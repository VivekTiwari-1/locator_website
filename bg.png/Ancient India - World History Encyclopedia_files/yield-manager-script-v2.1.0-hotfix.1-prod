/**
 * Assertive Yield - Yield Manager script.
 * v2.1.0-hotfix.1
 *
 * Â© 2018-2023 Assertive Yield B.V. All Rights Reserved.
 */
!function(e){function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return o}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a,c,s,d,l,u,p,f;function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,i=arguments[1],r=void 0,o=0;o<n;o++)if(r=t[o],e.call(i,r,o,t))return r}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return r;r++}return-1}}),Array.prototype.includes||(Array.prototype.includes=function(e){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var i,r,o=parseInt(arguments[1],10)||0;for(0<=o?i=o:(i=n+o)<0&&(i=0);i<n;){if(e===(r=t[i])||e!=e&&r!=r)return!0;i++}return!1}),Array.from||(Array.from=(a=Object.prototype.toString,c=function(e){return"function"==typeof e||"[object Function]"===a.call(e)},s=Math.pow(2,53)-1,d=function(e){var t,n=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(n,0),s)},function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!c(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var r,o=d(t.length),a=c(this)?Object(new this(o)):new Array(o),s=0;s<o;)r=t[s],a[s]=i?void 0===n?i(r,s):i.call(n,r,s):r,s+=1;return a.length=o,a})),"function"!=typeof Object.entries&&(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,i=new Array(n);n--;)i[n]=[t[n],e[t[n]]];return i}),"function"!=typeof Object.values&&(Object.values=function(e){for(var t=Object.keys(e),n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return t<this.length?t|=0:t=this.length,this.substr(t-e.length,e.length)===e}),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)});var h,m="ayManagerEnv";!function(e){e.BETA="beta",e.STABLE="stable",e.LEGACY="legacy"}(h||(h={}));var v,E,y,w;g(l={},h.BETA,"2.1.0"),g(l,h.STABLE,"2.1.0"),g(l,h.LEGACY,"2.1.0");!function(e){e.MANUAL="manual",e.HISTORY="history"}(v||(v={})),function(e){e.PLACEMENTS="placements",e.BIDDERS="bidders",e.NAMESPACE="namespace",e.VERSIONS="versions",e.SETTINGS="settings"}(E||(E={})),function(e){e.PLACEMENTS="Placements",e.BIDDERS="Bidders",e.NAMESPACE="Namespace",e.VERSIONS="Versions",e.SETTINGS="Settings"}(y||(y={})),function(e){e.JSON="JSON",e.DROPDOWN="DROPDOWN",e.DROPDOWN_CREATABLE="DROPDOWN_CREATABLE",e.DROPDOWNMULTI="DROPDOWNMULTI",e.DROPDOWNMULTI_CREATABLE="DROPDOWNMULTI_CREATABLE",e.TEXT="TEXT",e.SWITCHER="SWITCHER",e.CSS="CSS",e.HTML="HTML",e._SIZES="_SIZES",e._PARAMS_LIST="_PARAMS_LIST"}(w||(w={}));var b,T,O,I,A,S,N,_,U,R,D,M,C,P,L,x=["beforebegin","afterbegin","beforeend","afterend"],j=["v640x480","v640x360","v854x480","v1024x576","v1280x720","v1920x1080"],B=["300x50","320x50","320x100","320x180","728x90","300x250","970x90","160x600","300x600","970x250","640x480"];!function(e){e.BANNER="banner",e.VIDEO_OUTSTREAM="video - outstream"}(b||(b={})),function(e){e.AD_UNIT_DEFAULTS="AD_UNIT_DEFAULTS",e.AD_UNITS="AD_UNITS",e.PLACEMENT_DEFAULTS="PLACEMENT_DEFAULTS",e.PLACEMENTS="PLACEMENTS",e.HTML_UNITS="HTML_UNITS",e.BIDDERS="BIDDERS",e.PARAMS_OVERRIDE="PARAMS_OVERRIDE"}(T||(T={})),g(u={},T.AD_UNITS,{enabled:{renderType:w.SWITCHER,isPopOver:!1,label:"Enabled"},path:{renderType:w.DROPDOWN_CREATABLE,needsParsing:!0,isPopOver:!0,label:"Ad Unit path",isDynamicOptions:!0,invertTruncatedDisplay:!0,explanation:'The GPT full Ad Unit path (e.g. /19968336/header-bid-tag-0). \nMore info: https://developers.google.com/publisher-tag/guides/get-started#ad-unit-path. \nYou can also have the Ad Unit path "inside" a Yield Manager variable and use that variable name here.'},name:{renderType:w.TEXT,isPopOver:!1,label:"Internal Name",explanation:"A unique name to identify this Ad Unit."},conditions:{renderType:w.DROPDOWNMULTI,isPopOver:!0,label:"Enable if",isDynamicOptions:!0,allowEmpty:!0,emptyPlaceholder:"always",explanation:"If provided, the Ad Unit will only be enabled if all conditions evaluate to be true."},mediaTypes:{renderType:w.DROPDOWNMULTI,options:Object.values(b),isPopOver:!0,label:"Media types"},sizes:{renderType:w._SIZES,options:[{label:"banner sizes",values:B},{label:"video sizes",values:j}],isPopOver:!0,label:"Sizes",explanation:"All sizes this Ad Unit can accept. Prebid recommends that the AdUnit sizes should match the GPT sizes. The size of the video player for video media types can be specified by appending the 'v' letter to it."},refresh:{renderType:w.TEXT,isPopOver:!1,label:"Refresh",needsParsing:!0},trigger:{renderType:w.DROPDOWNMULTI,isPopOver:!0,label:"Trigger",isDynamicOptions:!0,emptyValue:[],explanation:"When the given Ad Unit should be rendered on the page. You can set multiple triggers and the Ad Unit will be activated as soon as any of the triggers fire."},lazyLoad:{renderType:w.SWITCHER,isPopOver:!1,label:"Lazy load",explanation:"The Ad Unit will only render the Ad if the 'Placement' is in view or about to be."}}),g(u,T.PLACEMENTS,{enabled:{renderType:w.SWITCHER,isPopOver:!1,label:"Enabled"},code:{renderType:w.TEXT,isPopOver:!1,label:"Identifier Name",explanation:"GPT HTML div ID (ID of the div that will contain this Ad Unit). e.g. div-gpt-ad-header.\n\nIf you have two Placements with the same Identifier Name, be sure to add conditions so that they are never enabled at the same time."},name:{renderType:w.TEXT,isPopOver:!1,label:"Internal Name",explanation:"A unique name to identify this Placement in Yield Manager."},conditions:{renderType:w.DROPDOWNMULTI,isPopOver:!0,label:"Enable if",isDynamicOptions:!0,allowEmpty:!0,emptyPlaceholder:"always",explanation:"If provided, the Placement will only be enabled if all conditions evaluate to be true."},inject:{renderType:w.SWITCHER,isPopOver:!1,label:"Inject",explanation:"Whether Yield Manager should place the Ad Units for you.\n\nIf enabled, it will place Ad Units in the element found by the 'Placement' selector using the 'Position'. \n\nIf disabled, you'll have to place the Placement snippet code yourself. Also, the 'Placement' and 'Position' columns will be ignored.\n\nDisabling this is useful for infinite scroll layouts."},placement:{renderType:w.TEXT,isPopOver:!1,label:"Placement",needsParsing:!0,explanation:"A CSS query string matching the elements on which Ad Units should be placed. The 'Position' column will be used to place the Ad Unit relative to this element. Note that the Yield Manager script will do a 'querySelectorAll', meaning that every element that matches this placement string will get the Ad Unit attached to it."},position:{renderType:w.DROPDOWN,options:x,isPopOver:!0,label:"Position",explanation:"'beforebegin': Before the element. 'afterbegin': Inside the element, before its first child. 'beforeend': Inside the element, after its last child. 'afterend': After the element. "},slug:{renderType:w.SWITCHER,isPopOver:!1,label:"Slug",explanation:"If enabled, a placeholder with the text 'Ad' will be placed above the ad."},style:{renderType:w.CSS,isPopOver:!0,label:"Style",needsParsing:!0,allowVarRef:!0,emptyValue:"{}"},adUnits:{label:"Ad Units",explanation:"Which Ad Units should be placed based on this placement"},htmlUnits:{label:"HTML Units",explanation:"Which HTML Units should be placed based on this placement"}}),g(u,T.HTML_UNITS,{enabled:{renderType:w.SWITCHER,isPopOver:!1,label:"Enabled"},name:{renderType:w.TEXT,isPopOver:!1,label:"Name",explanation:"A unique name to identify this HTML Unit."},conditions:{renderType:w.DROPDOWNMULTI,isPopOver:!0,label:"Enable if",isDynamicOptions:!0,allowEmpty:!0,emptyPlaceholder:"always",explanation:"If provided, the HTML Unit will only be enabled if all conditions evaluate to be true."},trigger:{renderType:w.DROPDOWNMULTI,isPopOver:!0,label:"Trigger",isDynamicOptions:!0,allowEmpty:!0,emptyPlaceholder:"On Load",emptyValue:[],explanation:"When the given HTML Unit should be rendered on the page. You can set multiple triggers and the HTML Unit will be activated as soon as any of the triggers fire."},htmlCode:{renderType:w.HTML,isPopOver:!0,label:"HTML Code",allowVarRef:!0,needsParsing:!0}}),g(u,T.BIDDERS,{name:{renderType:w.TEXT,isPopOver:!1,label:"Name",explanation:"A unique name to identify this Bidder."},alias:{renderType:w.TEXT,isPopOver:!1,label:"Alias",explanation:"An alias for the Bidder's name. The alias can help avoid user confusion since it's possible to send parameters to the same adapter but in different contexts.\n\nAn alias will only be used if this field is set. If left unset (i.e. using the \"global value\"), no alias will be applied."},enabled:{renderType:w.SWITCHER,isPopOver:!1,label:"Enabled"},conditions:{renderType:w.DROPDOWNMULTI,isPopOver:!0,label:"Enable if",isDynamicOptions:!0,allowEmpty:!0,emptyPlaceholder:"always",explanation:"If provided, the Bidder will only be enabled if all conditions evaluate to be true."},params:{renderType:w.JSON,isPopOver:!0,label:"Params Template",needsParsing:!0,allowVarRef:!0,allowPlaceholderRef:!0,emptyValue:"{}",explanation:'The base params for this bidder. By manually editing this field, the params column will be ignored and only referenced params will be in the PlacementID table\n\nYou can directly add param values that are static, e.g.: { floor: 0.5 }, while for params whose values change based on the Ad Unit ID or page Domain (e.g. placementId, siteId), you should add them as: { siteId: [[siteId]] }. \n\nPlease note that if the param is a string you should add the reference inside quotes: { siteId: "[[siteId]]" }'},paramsList:{renderType:w._PARAMS_LIST,isPopOver:!0,label:"Params",needsParsing:!1,explanation:'The base params for this bidder.\n\nYou should directly add param values that are static, e.g.: { floor: 0.5 }. But params whose values change based on the Ad Unit ID or page Domain (e.g. placementId, siteId), you should add them like this: { siteId: [[siteId]] }. \n\nPlease note that if the param is a string you should add the reference inside quotes: { siteId: "[[siteId]]" }'}}),g(u,T.PARAMS_OVERRIDE,{params:{renderType:w.JSON,isPopOver:!0,label:"Params",needsParsing:!0,allowVarRef:!0,allowPlaceholderRef:!0,emptyValue:"{}",explanation:'Will replace the params for this bidder.\n\nYou should directly add param values that are static, e.g.: { floor: 0.5 }. But params whose values change based on the Ad Unit ID or page Domain (e.g. placementId, siteId), you should add them like this: { siteId: [[siteId]] }. \n\nPlease note that if the param is a string you should add the reference inside quotes: { siteId: "[[siteId]]" }'}}),function(e){e.CHANGED="changed",e.ADDED="added",e.REMOVED="removed"}(O||(O={})),function(e){e.AD_UNIT_DEFAULTS="Ad unit Defaults",e.AD_UNITS="Ad units",e.BIDDERS="Bidders",e.PARAMS_DEFAULTS="Params Defaults",e.PARAMS_GROUPS="Params Groups",e.PLACEMENT_DEFAULTS="Placement Defaults",e.PLACEMENTS="Placements",e.HTML_UNITS="HTML units",e.PREBID_SCRIPT="Prebid script",e.YIELD_MANAGER_SCRIPT="Yield Manager script",e.VARIABLES="Variables",e.CONDITIONS="Conditions",e.TRIGGERS="Triggers",e.SETTINGS="settings"}(I||(I={})),function(e){e.GEOLOCATION_DATA="Geolocation data",e.DEPLOYMENT_DATA="Deployment data",e.BROWSER_DATA="Browser data",e.CUSTOM="Custom"}(A||(A={})),function(e){e.LOCAL_STORAGE_ENTRY="LOCAL_STORAGE_ENTRY",e.COOKIE_VALUE="COOKIE_VALUE",e.JS_GLOBAL_VAR="JS_GLOBAL_VAR",e.JS_GLOBAL_FUNCTION="JS_GLOBAL_FUNCTION",e.JS_FUNCTION="JS_FUNCTION",e.URL_PARAMETER="URL_PARAMETER",e.SIMPLE_VALUE="SIMPLE_VALUE",e.URL="URL",e.URL_PATHNAME="URL_PATHNAME",e.DOMAIN="DOMAIN",e.WINDOW_WIDTH="WINDOW_WIDTH",e.WINDOW_HEIGHT="WINDOW_HEIGHT",e.IS_MOBILE="IS_MOBILE",e.UTM_SOURCE="UTM_SOURCE",e.UTM_MEDIUM="UTM_MEDIUM",e.UTM_CAMPAIGN="UTM_CAMPAIGN",e.UTM_TERM="UTM_TERM",e.UTM_CONTENT="UTM_CONTENT",e.DEPLOYMENT_ID="DEPLOYMENT_ID",e.VERSION_ID="VERSION_ID",e.DEPLOYMENT_PERCENTAGE="DEPLOYMENT_PERCENTAGE",e.COUNTRY="COUNTRY",e.IS_EU_COUNTRY="IS_EU_COUNTRY",e.IS_EEA_OR_UK="IS_EEA_OR_UK",e.CITY="CITY",e.CONTINENT="CONTINENT",e.LATITUDE="LATITUDE",e.LONGITUDE="LONGITUDE",e.POSTAL_CODE="POSTAL_CODE",e.REGION="REGION",e.REGION_CODE="REGION_CODE",e.TIMEZONE="TIMEZONE"}(S||(S={})),g(p={},S.LOCAL_STORAGE_ENTRY,{type:"Local storage entry",description:A.CUSTOM,returnType:"string | null",tooltip:"The variable value will evaluate to a string containing the local storage value for the entry matching the provided name. The return type is string or null."}),g(p,S.COOKIE_VALUE,{type:"Cookie value",description:A.CUSTOM,returnType:"string | null",tooltip:"The variable value will evaluate to a string containing the cookie value for the entry matching the provided name. The return type is string or null.",YMSupport:"1.4.0"}),g(p,S.JS_GLOBAL_VAR,{type:"Javascript variable",description:A.CUSTOM,returnType:"any",tooltip:"The variable value will evaluate to that of the global Javascript variable with the provided name."}),g(p,S.JS_GLOBAL_FUNCTION,{type:"Javascript function",description:A.CUSTOM,returnType:"any",tooltip:"The variable value will evaluate to that of the global Javascript function with the provided name."}),g(p,S.JS_FUNCTION,{type:"Custom Javascript",description:A.CUSTOM,returnType:"any",tooltip:"The variable will use the provided JavaScript function to calculate its value in the browser. Each time the variable is found, the function will be executed and the return value at that time will be used."}),g(p,S.URL_PARAMETER,{type:"URL parameter",description:A.CUSTOM,returnType:"string | null",tooltip:"The variable will evaluate to a string containing the value of the URL parameter with the provided name or null if not found.",YMSupport:"1.4.0"}),g(p,S.SIMPLE_VALUE,{type:"Simple Value",description:A.CUSTOM,returnType:"any",tooltip:"The variable will simply evaluate to the entered value.",YMSupport:"1.4.0"}),g(p,S.URL,{type:A.BROWSER_DATA,description:"The Browser's URL",returnType:"string",tooltip:"The variable will evaluate to a string containing the website's URL, obtained with the 'window.location.href' method (e.g. 'https://www.assertiveyield.com/')."}),g(p,S.URL_PATHNAME,{type:A.BROWSER_DATA,description:"The Browser's URL path",returnType:"string",tooltip:"The variable will evaluate to a string containing the website's URL path, obtained with the 'window.location.pathname' method (e.g. '/manager/namespace').",YMSupport:"1.4.0"}),g(p,S.DOMAIN,{type:A.BROWSER_DATA,description:"The website's domain",returnType:"string",tooltip:"The variable will evaluate to a string containing the website's domain without 'www.', obtained with the 'window.location.hostname' method (e.g. 'assertiveyield.com').",YMSupport:"1.4.0"}),g(p,S.WINDOW_WIDTH,{type:A.BROWSER_DATA,description:"The width of the browser's window",returnType:"number",tooltip:"The variable will evaluate to a number containing the width of the user's browser window."}),g(p,S.WINDOW_HEIGHT,{type:A.BROWSER_DATA,description:"The height of the browser's window",returnType:"number",tooltip:"The variable will evaluate to a number containing the height of the user's browser window."}),g(p,S.IS_MOBILE,{type:A.BROWSER_DATA,description:"Whether a mobile device was detected",returnType:"boolean",tooltip:"The variable will evaluate to a boolean whose value will depend on whether the user's browser is a mobile or not. This is obtained from the 'navigator.userAgent', with a fallback to 'navigator.vendor' and 'window.opera'."}),g(p,S.UTM_SOURCE,{type:A.BROWSER_DATA,description:"Value of the utm_source URL parameter",returnType:"string | null",tooltip:"The variable will evaluate to a string containing the value of the URL parameter or null if not found.",YMSupport:"1.4.0"}),g(p,S.UTM_MEDIUM,{type:A.BROWSER_DATA,description:"Value of the utm_medium URL parameter",returnType:"string | null",tooltip:"The variable will evaluate to a string containing the value of the URL parameter or null if not found.",YMSupport:"1.4.0"}),g(p,S.UTM_CAMPAIGN,{type:A.BROWSER_DATA,description:"Value of the utm_campaign URL parameter",returnType:"string | null",tooltip:"The variable will evaluate to a string containing the value of the URL parameter or null if not found.",YMSupport:"1.4.0"}),g(p,S.UTM_TERM,{type:A.BROWSER_DATA,description:"Value of the utm_term URL parameter",returnType:"string | null",tooltip:"The variable will evaluate to a string containing the value of the URL parameter or null if not found.",YMSupport:"1.4.0"}),g(p,S.UTM_CONTENT,{type:A.BROWSER_DATA,description:"Value of the utm_content URL parameter",returnType:"string | null",tooltip:"The variable will evaluate to a string containing the value of the URL parameter or null if not found.",YMSupport:"1.4.0"}),g(p,S.DEPLOYMENT_ID,{type:A.DEPLOYMENT_DATA,description:"Yield Manager deployment ID",returnType:"string | undefined",tooltip:"The variable will evaluate to a string containing the version's deployment ID."}),g(p,S.VERSION_ID,{type:A.DEPLOYMENT_DATA,description:"Yield Manager version ID",returnType:"number",tooltip:"The variable will evaluate to a string containing the version's ID"}),g(p,S.DEPLOYMENT_PERCENTAGE,{type:A.DEPLOYMENT_DATA,description:"Yield Manager deployment percentage",returnType:"number",tooltip:"In case of a split test, the variable will evaluate to a decimal containing the percentage of users that are exposed to that version."}),g(p,S.COUNTRY,{type:A.GEOLOCATION_DATA,description:"The two-letter country code",returnType:"string | null",tooltip:"The variable will evaluate to a string containing the user's two-letter country code."}),g(p,S.IS_EU_COUNTRY,{type:A.GEOLOCATION_DATA,description:"Whether the country is in the EU",returnType:"boolean",tooltip:"The variable will evaluate to a boolean indicating whether the country is part of the EU."}),g(p,S.IS_EEA_OR_UK,{type:A.GEOLOCATION_DATA,description:"Whether the user is in the EEA or UK",returnType:"boolean",tooltip:"The variable will evaluate to a boolean indicating whether the user is in a European Economic Area country or in the United Kingdom.",YMSupport:"1.4.0"}),g(p,S.CITY,{type:A.GEOLOCATION_DATA,description:'The city name, for example, "Austin".',returnType:"string | null",tooltip:"The variable will evaluate to a string containing the user's city name."}),g(p,S.CONTINENT,{type:A.GEOLOCATION_DATA,description:'The two-letter continent code, for example, "NA"',returnType:"string | null",tooltip:"The variable will evaluate to a string containing the two-letter continent code of the user."}),g(p,S.LATITUDE,{type:A.GEOLOCATION_DATA,description:'The latitude value, for example, "30.27130"',returnType:"string | null",tooltip:"The variable will evaluate to a string containing the user's latitude."}),g(p,S.LONGITUDE,{type:A.GEOLOCATION_DATA,description:'The longitude value, for example, "-97.74260"',returnType:"string | null",tooltip:"The variable will evaluate to a string containing the user's longitude."}),g(p,S.POSTAL_CODE,{type:A.GEOLOCATION_DATA,description:'The postal code value, for example, "78701"',returnType:"string | null",tooltip:"The variable will evaluate to a string containing the user's postal code."}),g(p,S.REGION,{type:A.GEOLOCATION_DATA,description:'The ISO 3166-2 name for the first level region, for example, "Texas".',returnType:"string | null",tooltip:"If known, the variable will evaluate to a string containing the ISO 3166-2 name for the first level region of the user."}),g(p,S.REGION_CODE,{type:A.GEOLOCATION_DATA,description:'The ISO 3166-2 code for the first level region, for example, "TX".',returnType:"string | null",tooltip:"If known, the variable will evaluate to a string containing the ISO 3166-2 code for the first level region of the user."}),g(p,S.TIMEZONE,{type:A.GEOLOCATION_DATA,description:'The time zone name, for example, "America/Chicago"',returnType:"string",tooltip:"The variable will evaluate to a string containing the user's time zone name."}),S.URL,S.URL_PATHNAME,S.DOMAIN,S.WINDOW_WIDTH,S.WINDOW_HEIGHT,S.IS_MOBILE,S.UTM_SOURCE,S.UTM_MEDIUM,S.UTM_CAMPAIGN,S.UTM_TERM,S.UTM_CONTENT,S.DEPLOYMENT_ID,S.VERSION_ID,S.DEPLOYMENT_PERCENTAGE,S.COUNTRY,S.IS_EU_COUNTRY,S.IS_EEA_OR_UK,S.CITY,S.CONTINENT,S.LATITUDE,S.LONGITUDE,S.POSTAL_CODE,S.REGION,S.REGION_CODE,S.TIMEZONE,function(e){e.SCRIPT_LOADED="Script Loaded",e.WINDOW_READY="Window Ready",e.WINDOW_LOADED="Window Loaded",e.CONSENT_INITIALIZATION="Consent Initialization",e.MANUAL_EVENT="Manual event"}(N||(N={})),g(f={},N.SCRIPT_LOADED,"The Yield Manager Script is running."),g(f,N.WINDOW_READY,"The document has finished loading and the document has been parsed but sub-resources such as scripts, images, stylesheets and frames are still loading."),g(f,N.WINDOW_LOADED,"The document and all sub-resources have finished loading. The state indicates that the load event is about to fire."),g(f,N.CONSENT_INITIALIZATION,"A CMP is loaded and is prepared to surface a TC String to any calling scripts on the page."),g(f,N.MANUAL_EVENT,"Will fire when your page calls the dispatchManualEvent API method (i.e. ayManagerEnv.dispatchManualEvent())."),function(e){e.onScriptLoad="_onScriptLoad",e.onReady="_onReady",e.onLoad="_onLoad",e.onConsentInitialization="_onConsentInitialization",e.manualTrigger="_manualTrigger"}(_||(_={})),_.onScriptLoad,N.SCRIPT_LOADED,_.onReady,N.WINDOW_READY,_.onLoad,N.WINDOW_LOADED,_.onConsentInitialization,N.CONSENT_INITIALIZATION,_.manualTrigger,N.MANUAL_EVENT,function(e){e.AND="AND",e.OR="OR"}(U||(U={})),function(e){e.EQ="equal",e.LT="less than",e.LE="less than or equal",e.GT="greater than",e.GE="greater than or equal",e.NE="not equal",e.CONTAINS="contains",e.STARTS_WITH="starts with",e.ENDS_WITH="ends with",e.REGEX="regex",e.DOESNT_CONTAIN="does not contain",e.DOESNT_STARTS_WITH="does not start with",e.DOESNT_ENDS_WITH="does not end with",e.NOT_REGEX="not regex"}(R||(R={})),function(e){e.fileUpload="Prebid.js file",e.config="Prebid config object",e.yieldScript="Yield Manager Inline script",e.destroyFarUnits="Destroy distant ad units",e.yieldScriptMode="Yield Manager Script Mode",e.yieldScriptVersion="Yield Manager Script Version",e.publisherId="APS Publisher ID",e.spa="Single Page Application support",e.failSafeTimeout="Auction fail-safe timeout",e.serviceSupport="Service support",e.customBidPool="Custom bid pool",e.persistentBidCaching="Persistent bid caching",e.preScript="Pre-Script (Advanced)"}(D||(D={})),function(e){e.VERSION="version",e.SPLIT_TEST="split test"}(M||(M={})),function(e){e.PREBID="PREBID",e.APS="APS",e.BOTH="BOTH"}(C||(C={})),_.onReady,b.BANNER,h.STABLE,h.STABLE,C.PREBID,v.HISTORY,function(e){e.ERROR="error",e.BEFORE_PAGE_CHANGE="beforePageChange",e.AFTER_PAGE_CHANGE="afterPageChange",e.FAILSAFE_TIMEOUT_CHANGED="failSafeTimeoutChanged",e.BEFORE_DEFINE_SLOT="beforeDefineSlot",e.AFTER_DEFINE_SLOT="afterDefineSlot",e.BEFORE_REFRESH="beforeRefresh",e.AFTER_REFRESH="afterRefresh"}(P||(P={}));var F,H=window.ayManagerEnv,W=null!==(L=H.settings.prebidSettings.prebidScript.windowName)&&void 0!==L?L:"pbjs",G=H.settings.adUnits=H.settings.adUnits.filter((function(e){return e.enabled})),k=H.settings.adUnitInstances=[],Y=H.settings.htmlUnits=H.settings.htmlUnits.filter((function(e){return e.enabled})),z=H.settings.htmlUnitInstances=[],V=-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident/"),q=H.settings.yieldScriptSettings.yieldScriptMode,J=void 0===q?"PREBID":q,Z="APS"===J||"BOTH"===J,X=!V&&("PREBID"===J||"BOTH"===J);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){var i=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&#]"+i+"(?:=([^&#]*))?",t?"i":"").exec(n||window.location.href);return null===r?null:void 0===r[1]?"":decodeURIComponent(r[1].replace(/\+/g," "))}function ee(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=K({path:"/"},n);var i,r=encodeURIComponent(e)+"="+encodeURIComponent(t);if(r+=";path="+n.path,n.domain&&(r+="; domain="+n.domain),n.expiresDays?i=864e5*n.expiresDays:n.expiresHours?i=36e5*n.expiresHours:n.expiresSeconds&&(i=1e3*n.expiresSeconds),i){var o=new Date;o.setTime(o.getTime()+i),r+="; expires="+o.toUTCString()}n.sameSite&&(r+="; samesite="+n.sameSite),n.secure&&(r+="; secure"),document.cookie=r}var ne=(null===(F=window.ayManagerEnv)||void 0===F?void 0:F.debug)||"true"===$("ay_manager_debug")||"true"===localStorage.getItem("ay_manager_debug");window.ayManagerEnv&&(window.ayManagerEnv.debug=ne);var ie,re,oe="\n    background: linear-gradient(-152deg, #100124, #3e007c 75%);\n    border-radius: 3px;\n    color: white;\n    padding: 1px 5px;\n    font-size: .6rem;\n",ae={group:ne?window.console.groupCollapsed.bind(window.console,"%cYM",oe):function(){},groupEnd:ne?window.console.groupEnd.bind(window.console):function(){},log:ne?window.console.log.bind(window.console,"%cYM",oe):function(){},warn:ne?window.console.warn.bind(window.console,"%cYM",oe):function(){},error:window.console.error.bind(window.console,"%cYM",oe),table:ne?window.console[null!=console.table?"table":"log"].bind(window.console):function(){}},ce=Object.values(P),se=(o(ie={},P.ERROR,{que:[]}),o(ie,P.BEFORE_PAGE_CHANGE,{que:[]}),o(ie,P.AFTER_PAGE_CHANGE,{que:[]}),o(ie,P.FAILSAFE_TIMEOUT_CHANGED,{que:[]}),o(ie,P.BEFORE_DEFINE_SLOT,{que:[]}),o(ie,P.AFTER_DEFINE_SLOT,{que:[]}),o(ie,P.BEFORE_REFRESH,{que:[]}),o(ie,P.AFTER_REFRESH,{que:[]}),ie),de=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=se[e];r.que.slice().forEach((function(t){try{t.apply(null,n)}catch(t){ae.error("Error while trying to executing handler for the ".concat(e," event"),t)}}))},le=function(e,t){ce.includes(e)?se[e].que.push(t):ae.error("Invalid event name: '".concat(e,"'. Available event names: '").concat(JSON.stringify(ce),"'"))},ue=function(e,t){if(ce.includes(e)){var n=se[e];if(0===n.que.length)return;n.que.slice().reverse().forEach((function(e,i,r){e===t&&n.que.splice(r.length-1-i,1)}))}else ae.error("Invalid event name: '".concat(e,"'. Available event names: '").concat(JSON.stringify(ce),"'"))},pe=function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}};function fe(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=window.ayManagerEnv,a=o.entityId,c=o.geoInfo,s=o.settings.versionInfo,d=o.startTime,l=null!=i?i:{},u=l.type,p=void 0===u?"yieldmanager":u,f=l.description,g=l.adUnitName,h=l.adUnitInstanceCode,m=l.htmlUnitName,v=l.htmlUnitInstanceName,E=l.adUnitCodes;pe(e)||(e=new Error(e));var y={error:e,data:{type:p,description:f,entityId:a,host:null===(t=window.location)||void 0===t?void 0:t.host,url:null===(n=window.location)||void 0===n?void 0:n.href,geoInfo:c,versionInfo:s,timestamp:d,adUnitName:g,adUnitInstanceCode:h,htmlUnitName:m,htmlUnitInstanceName:v,adUnitCodes:E}};null!=window.assertiveQueue&&window.assertiveQueue.push((function(){window.assertive.logError(y,{skipConsole:!0,source:"manager"})})),de(P.ERROR,y),r&&ae.error(f,y)}function ge(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var he={Object:1,Array:2,String:3,Null:4,Undefined:5,Function:6,Boolean:7,Number:8,RegExp:9,Date:10};function me(e,t){var n,i,r,o,a,c=function(e){return null===e?4:void 0===e?5:he[Object.prototype.toString.call(e).slice(8,-1)]}(e);if(null==t&&(t=1),1===c){if(t>0){if(-1!==re.indexOf(e))return console.log("toSrc warning: Circular reference detected within object ",e),"undefined";for(i in re.push(e),n="{",e)e.hasOwnProperty(i)&&(n+='"'+i+'": '+me(e[i],t-1)+", ");n.length>1&&(n=n.substring(0,n.length-2)),n+="}"}else n="undefined";return n}if(2===c){if(t>0){if(-1!==re.indexOf(e))return console.log("toSrc warning: Circular reference detected within array ",e),"undefined";for(re.push(e),n="[",r=0,o=e.length;r<o;r++)n+=me(e[r],t-1)+", ";n.length>1&&(n=n.substring(0,n.length-2)),n+="]"}else n="undefined";return n}return 3===c?JSON.stringify(e):4===c?"null":5===c?"undefined":6===c?-1===(a=e.toString()).search(/^function \w+\(\) \{\s*\[native code\]\s*\}$/)?a:a.match(/^function (\w+)\(\) \{\s*\[native code\]\s*\}$/)[1]:7===c?e.toString():8===c?e===Number.MAX_VALUE?"Number.MAX_VALUE":e===Number.MIN_VALUE?"Number.MIN_VALUE":e===Math.E?"Math.E":e===Math.LN2?"Math.LN2":e===Math.LN10?"Math.LN10":e===Math.LOG2E?"Math.LOG2E":e===Math.LOG10E?"Math.LOG10E":e===Math.PI?"Math.PI":e===Math.SQRT1_2?"Math.SQRT1_2":e===Math.SQRT2?"Math.SQRT2":e.toString():9===c?e.toString():10===c?"new Date("+e.getTime()+")":"undefined"}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Ee=function(e){var t=function(e){return"code"in e};return e.map((function(e){try{var n=e.name,i=t(e)?"Ad unit":"HTML unit",r=e.conditions.reduce((function(e,t){return e&&Oe(t)}),!0),a=e.conditions.map((function(t){var n=window.ayManagerEnv.settings.definitions.conditions[t],i=n.name,r=n.group;return{name:i,evaluation:Oe(t),conditions:function t(n){if(null!=n.conditions)return n.conditions.reduce((function(e,i,r){return"".concat(e," ").concat(r>0?n.operator+" ":"","( ").concat(t(i)," )")}),"");try{var r=window.ayManagerEnv.settings.definitions.variables[n.variable],o=r.name,a=be(r._id,null),c=Te(a,n.value,n.operation);return"<<var: ".concat(o,">> '").concat(a,"' ").concat(n.operation," '").concat(n.value,"' <<eval: ").concat(c,">>")}catch(t){return t instanceof Error&&fe(t,{description:"Unable to evaluate condition for getConditionsEvaluation: var: ".concat(i,", op: ").concat(n.operation,", value: ").concat(n.value),adUnitName:e.name}),"<<var: ".concat(i,">> <<unable to evaluate>> ").concat(n.operation," '").concat(n.value,"' <<eval: ",!1,">>")}}(r)}}));return{name:n,type:i,evaluation:r,conditionSets:a}}catch(n){return n instanceof Error&&fe(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({description:"Unable to get condition evaluation for ".concat(t(e)?"Ad unit":"HTML unit",": ").concat(e.name)},t(e)?{adUnitName:e.name}:{htmlUnitName:e.name})),null}})).filter((function(e){return null!=e}))};function ye(e){try{return Function("return (".concat(we(e),")"))()}catch(e){throw e instanceof Error&&(e.message="Unable to parse text inside evalTextWithVarIdsToJSValue: "+e.message),e}}function we(e){return null==e?"":e.replace(/({{ *)([_a-zA-Z0-9]+)((\.[_a-zA-Z0-9-]+)*)( *}})/g,(function(e,t,n,i,r,o){try{var a=window.ayManagerEnv.settings.definitions.variables;if(!a[n])throw new Error("Variable not found.");var c=a[n].directString,s=void 0===c||c,d=be(n,null),l=i&&""!==i?i.slice(1).split(".").reduce((function(e,t,n){return 0===n?d[t]:e[t]}),null):d;return"string"==typeof l&&s?l:(re=[],me(l,99))}catch(e){throw e instanceof Error&&(e.message="Unable to replace variable '".concat(n+i,"' by its value: ")+e.message),e}}))}function be(e,t){var n=window.ayManagerEnv,i=n.geoInfo,r=n.settings.definitions.variables;if(!r[e])throw new Error("Unable to evaluate variable: Variable ".concat(e," not found."));var o,a,c=r[e],s=c.type,d=c.value,l=c.name;try{var u,p=we(d);switch(s){case S.LOCAL_STORAGE_ENTRY:return localStorage.getItem(p);case S.COOKIE_VALUE:return ee(p);case S.JS_GLOBAL_VAR:try{u=p.split(".").reduce((function(e,t,n){return 0===n?window[t]:e[t]}),{})}catch(e){e instanceof Error&&fe(e,{description:"Failed to evaluate global js var ".concat(l,". Falling back to undefined.")}),u=void 0}return u;case S.JS_GLOBAL_FUNCTION:try{u=p.split(".").reduce((function(e,t,n){return 0===n?window[t]:e[t]}),null)()}catch(e){e instanceof Error&&fe(e,{description:"Failed to evaluate global js function ".concat(l,". Falling back to undefined.")}),u=void 0}return u;case S.JS_FUNCTION:return u=Function("return (".concat(p,")()"))();case S.URL_PARAMETER:return $(p);case S.SIMPLE_VALUE:return p;case S.URL:return window.location.href;case S.URL_PATHNAME:return window.location.pathname;case S.DOMAIN:return window.location.hostname.replace("www.","");case S.WINDOW_WIDTH:return Math.max(document.documentElement.clientWidth,window.innerWidth||0);case S.WINDOW_HEIGHT:return Math.max(document.documentElement.clientHeight,window.innerHeight||0);case S.IS_MOBILE:return a=!1,o=navigator.userAgent||navigator.vendor||window.opera,void((/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4)))&&(a=!0)),a;case S.UTM_SOURCE:return Ae("utm_source");case S.UTM_MEDIUM:return Ae("utm_medium");case S.UTM_CAMPAIGN:return Ae("utm_campaign");case S.UTM_TERM:return Ae("utm_term");case S.UTM_CONTENT:return Ae("utm_content");case S.DEPLOYMENT_ID:return window.ayManagerEnv.settings.versionInfo.deployId;case S.VERSION_ID:return window.ayManagerEnv.settings.versionInfo.versionId;case S.DEPLOYMENT_PERCENTAGE:return window.ayManagerEnv.settings.versionInfo.percentage;case S.COUNTRY:return i.country;case S.IS_EU_COUNTRY:return i.isEUCountry;case S.IS_EEA_OR_UK:return i.isEEAOrUK;case S.CITY:return i.city;case S.CONTINENT:return i.continent;case S.LATITUDE:return i.latitude;case S.LONGITUDE:return i.longitude;case S.POSTAL_CODE:return i.postalCode;case S.REGION:return i.region;case S.REGION_CODE:return i.regionCode;case S.TIMEZONE:return i.timezone}}catch(e){throw e instanceof Error&&(e.message="Unable to evaluate variable ".concat(l,": ")+e.message),e}}function Te(e,t,n){try{switch(n){case R.EQ:return String(e)===String(t);case R.NE:return String(e)!==String(t);case R.LT:return Number(e)<Number(t);case R.LE:return Number(e)<=Number(t);case R.GT:return Number(e)>Number(t);case R.GE:return Number(e)>=Number(t);case R.CONTAINS:return String(e).includes(String(t));case R.STARTS_WITH:return String(e).startsWith(String(t));case R.ENDS_WITH:return String(e).endsWith(String(t));case R.REGEX:return null!==String(e).match(String(t));case R.DOESNT_CONTAIN:return!String(e).includes(String(t));case R.DOESNT_STARTS_WITH:return!String(e).startsWith(String(t));case R.DOESNT_ENDS_WITH:return!String(e).endsWith(String(t));case R.NOT_REGEX:return null!==!String(e).match(String(t));default:throw new Error("ERROR: invalid op: ".concat(n))}}catch(e){throw e instanceof Error&&(e.message="Unable to evaluate expression: "+e.message),e}}function Oe(e,t){try{var n=!0,i=window.ayManagerEnv.settings.definitions;if(i.conditions[e])return n=function e(t,n){var i=function(e){return"conditions"in e};return"conditions"in t?i(t)&&t.conditions.length>0?t.conditions.reduce((function(i,r,o){return null==i?e(r,[].concat(ge(n),[o])):t.operator===U.AND?i&&(null!==(a=e(r,[].concat(ge(n),[o])))&&void 0!==a?a:i):i||(null!==(c=e(r,[].concat(ge(n),[o])))&&void 0!==c?c:i);var a,c}),null):null:Te(be(t.variable),t.value,t.operation)}(i.conditions[e].group,[]),n;throw new Error("Condition not found. id: ".concat(e))}catch(t){throw t instanceof Error&&(t.message="Unable to evaluate condition ".concat(e,": ")+t.message),t}}function Ie(e){try{return e.reduce((function(e,t){return e&&Oe(t)}),!0)}catch(t){return t instanceof Error&&fe(t,{description:"Unable to evaluate list of conditions: ".concat(JSON.stringify(e))}),!1}}function Ae(e){var t,n,i,r,o=null===(t=window.assertive)||void 0===t||null===(n=t.analytics)||void 0===n||null===(i=n.override)||void 0===i||null===(r=i.utm)||void 0===r?void 0:r[e];return o&&(e=o),$(e)}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=!1;function Ue(e){try{var t=e.containerRef,n=window.getComputedStyle(t),i=null,r=function(e){var t=e.visibility;return"hidden"===t||"collapse"===t};return(_e||!function t(n,r){var o=n.nodeName,a=n.offsetParent,c=r.position,s=r.display;if("BODY"===o)return"none"===s;if("fixed"!==c)return!a;if("none"===s||null==n.parentElement)return!0;var d=n.parentElement,l=window.getComputedStyle(d);return d===e.containerRef.parentElement&&(i=l),t(d,l)}(t,n))&&!r(n)&&null!=t.parentElement&&!r(null!=i?i:window.getComputedStyle(t.parentElement))}catch(t){return t instanceof Error&&fe(t,{description:"Unable to detect if Ad Unit is visible",adUnitInstanceCode:e.code}),!0}}var Re=function(){var e;return function(){return e||(e=function(){var e=window.ayManagerEnv.settings.prebidSettings.config,t={};try{var n=ye(e);ae.log("Evaluated Prebid.config:",n),t=n}catch(e){e instanceof Error&&fe(e,{description:"Unable to evaluated Prebid.config"})}return t}()),e}}();function De(e,t){e.push=function(){return t.apply(e,arguments)}}function Me(e,t){try{var n=null!=t?t:{},i=n.nearInSight,r=void 0!==i&&i,o=n.pixelsOffset,a=void 0===o?430:o;if(null==e)return!1;var c=e.getBoundingClientRect(),s=c.top,d=c.height,l=c.left,u=c.width,p=c.bottom,f=c.right,g=window.innerHeight||document.documentElement.clientHeight,h=window.innerWidth||document.documentElement.clientWidth;return r?s+d+a>=0&&l+u+a>=0&&p-d-a<=g&&f-u-a<=h:s+d/2>=0&&l+u/2>=0&&p-d/2<=g&&f-u/2<=h}catch(e){return e instanceof Error&&fe(e,{description:"Unable to detect if element is in view"}),!1}}function Ce(e,t,n){switch(t){case"visible":return e.filter((function(e){return Me(e.containerRef,{nearInSight:!1})}));case"near":return e.filter((function(e){return Me(e.containerRef,{nearInSight:!0,pixelsOffset:n})}));case"page":return e.slice();default:return ae.error("Invalid mode provided to filterAdUnits:",t),[]}}function Pe(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.filter((function(e){var i,r=(i=e,"trigger"in i?e.trigger:e.parent.trigger).map((function(e){return window.ayManagerEnv.settings.definitions.triggers[e]})).filter((function(e){return null!=e}));return 0===r.length?t===N.WINDOW_LOADED:r.some((function(e){var i,r;return e.event===t&&(!n||(null===(i=null===(r=e.conditions)||void 0===r?void 0:r.reduce((function(t,n){try{return t&&Oe(n)}catch(t){return t instanceof Error&&fe(t,{description:"Unable to evaluate trigger's (".concat(e.name,") condition (").concat(n,")")}),!1}}),!0))||void 0===i||i))}))}))}function Le(e,t){return t.filter((function(t){return e.includes(t.parent.code)}))}function xe(e){return(null!=e?e:[]).map((function(e){return e.split("x").map((function(e){return parseInt(e.trim())}))}))}function je(e){return(null!=e?e:[]).map((function(e){return e.split("x").map((function(e,t){return parseInt(0===t?e.trim().slice(1):e.trim())}))}))}function Be(e){return-1!==e.indexOf("v")}function Fe(e){return e.bidders.filter((function(t){return t.conditions.reduce((function(t,n){try{return t&&Oe(n)}catch(t){return t instanceof Error&&fe(t,{description:"Unable to evaluate bidder's condition (".concat(n,")"),adUnitInstanceCode:e.code,adUnitName:e.name}),!1}}),!0)})).map((function(t){var n,i,r,a=Object.keys(t.paramsDefaultValues),c=null!==(n=null===(i=t.paramsValues.find((function(t){return t.conditions.reduce((function(t,n){try{return t&&Oe(n)}catch(t){return t instanceof Error&&fe(t,{description:"Unable to evaluate params group conditions (".concat(n,")"),adUnitInstanceCode:e.code,adUnitName:e.name}),!1}}),!0)})))||void 0===i?void 0:i.params)&&void 0!==n?n:t.paramsDefaultValues,s=a.reduce((function(e,n){var i;return Ne(Ne({},e),{},o({},n,null!==(i=c[n])&&void 0!==i?i:t.paramsDefaultValues[n]))}),{});return{bidder:null!==(r=t.alias)&&void 0!==r?r:t.bidder,paramsTemplate:t.paramsTemplate,placeholders:a,paramsValues:s}})).map((function(t){try{var n=function(e,t){var n="__".concat(m,"_undefined__"),i=0;return{value:e.replace(/(\[\[ *)(((\w[\w ]*)([a-zA-Z]+)([\w ]*\w))|((\w[\w ]*)([a-zA-Z]+))|(([a-zA-Z]+)([\w ]*\w)))( *\]\])/g,(function(e,r,o){try{i++;var a=t[o];return null==a||""===a?n:a}catch(e){throw e instanceof Error&&(e.message="Unable to replace placeholder '".concat(o,"' by its value: ")+e.message),e}})).replace(new RegExp("([\"'])".concat(n,"\\1"),"g"),"undefined").replace(new RegExp("".concat(n),"g"),"undefined"),count:i}}(t.paramsTemplate,t.paramsValues),i=n.value,r=n.count,o={};return(0===r||0!==t.placeholders.length&&!t.placeholders.every((function(e){return""===t.paramsValues[e]})))&&(o=ye(i)),{bidder:t.bidder,params:o}}catch(n){return n instanceof Error&&fe(n,{description:"Unable to parse bidder params. ad unit: ".concat(e.code," bidder: ").concat(t.bidder),adUnitInstanceCode:e.code,adUnitName:e.name}),{bidder:t.bidder,params:{}}}})).filter((function(e){return!function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e.params)}))}function He(e){return e.responseTimestamp+1e3*e.ttl-1e3<=(new Date).getTime()}function We(e,t,n){return!(t.length>0&&t.includes(n))&&(0===e.length||e.includes(n))}function Ge(e){return parseInt(e.replace("px",""),10)}function ke(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={width:null,height:null};try{var i=e.style,r=i.width,o=i.height;if(r&&o&&r.includes("px")&&o.includes("px"));else{var a=window.getComputedStyle(e);r=a.width,o=a.height}if(n.width=Ge(r)||null,n.height=Ge(o)||null,t&&(null===n.width||null===n.height)){var c=e.getBoundingClientRect();n.width=c.width,n.height=c.height}}catch(e){e instanceof Error&&fe(e,{description:"Error getting element size"})}return n}function Ye(e,t){t&&(t.width&&(!e.style.minWidth||Ge(e.style.minWidth)<t.width)&&(e.style.minWidth="".concat(t.width,"px")),t.height&&(!e.style.minHeight||Ge(e.style.minHeight)<t.height)&&(e.style.minHeight="".concat(t.height,"px")))}var ze="object"==("undefined"==typeof global?"undefined":r(global))&&global&&global.Object===Object&&global,Ve="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,qe=ze||Ve||Function("return this")(),Je=qe.Symbol,Ze=Object.prototype,Xe=Ze.hasOwnProperty,Qe=Ze.toString,Ke=Je?Je.toStringTag:void 0;var $e=Object.prototype.toString;var et=Je?Je.toStringTag:void 0;function tt(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":et&&et in Object(e)?function(e){var t=Xe.call(e,Ke),n=e[Ke];try{e[Ke]=void 0;var i=!0}catch(e){}var r=Qe.call(e);return i&&(t?e[Ke]=n:delete e[Ke]),r}(e):function(e){return $e.call(e)}(e)}function nt(e){return"symbol"==r(e)||function(e){return null!=e&&"object"==r(e)}(e)&&"[object Symbol]"==tt(e)}var it=/\s/;var rt=/^\s+/;function ot(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&it.test(e.charAt(t)););return t}(e)+1).replace(rt,""):e}function at(e){var t=r(e);return null!=e&&("object"==t||"function"==t)}var ct=/^[-+]0x[0-9a-f]+$/i,st=/^0b[01]+$/i,dt=/^0o[0-7]+$/i,lt=parseInt;function ut(e){if("number"==typeof e)return e;if(nt(e))return NaN;if(at(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=at(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ot(e);var n=st.test(e);return n||dt.test(e)?lt(e.slice(2),n?2:8):ct.test(e)?NaN:+e}var pt,ft=function(){return qe.Date.now()},gt=Math.max,ht=Math.min;function mt(e,t,n){var i,r,o,a,c,s,d=0,l=!1,u=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=i,o=r;return i=r=void 0,d=t,a=e.apply(o,n)}function g(e){return d=e,c=setTimeout(m,t),l?f(e):a}function h(e){var n=e-s;return void 0===s||n>=t||n<0||u&&e-d>=o}function m(){var e=ft();if(h(e))return v(e);c=setTimeout(m,function(e){var n=t-(e-s);return u?ht(n,o-(e-d)):n}(e))}function v(e){return c=void 0,p&&i?f(e):(i=r=void 0,a)}function E(){var e=ft(),n=h(e);if(i=arguments,r=this,s=e,n){if(void 0===c)return g(s);if(u)return clearTimeout(c),c=setTimeout(m,t),f(s)}return void 0===c&&(c=setTimeout(m,t)),a}return t=ut(t)||0,at(n)&&(l=!!n.leading,o=(u="maxWait"in n)?gt(ut(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),E.cancel=function(){void 0!==c&&clearTimeout(c),d=0,i=s=r=c=void 0},E.flush=function(){return void 0===c?a:v(ft())},E}var vt={};function Et(e){return vt[e]||(vt[e]=0),"".concat(e,"__").concat(m,"__").concat(++vt[e])}var yt={};function wt(e,t){yt[e]?yt[e][t]=!0:yt[e]=o({},t,!0)}null!==(pt=window.ayManagerEnv)&&void 0!==pt&&pt.adUnitCodeVariations||(window.ayManagerEnv.adUnitCodeVariations=yt),window.ayManagerEnv.settings.debug={conditionsEvaluation:[]},ne&&le(P.BEFORE_PAGE_CHANGE,(function(){window.ayManagerEnv.settings.debug.conditionsEvaluation=Ee([].concat(ge(G),ge(Y)))}));function bt(){var e="".concat(m,"__persistent_bid_cache_bids");window.addEventListener("beforeunload",(function(t){try{var n=Object.values(yt).reduce((function(e,t){return[].concat(ge(e),ge(Object.keys(t)))}),[]).reduce((function(e,t){var n=window[W].getBidResponsesForAdUnitCode(t).bids;return[].concat(ge(e),ge(n))}),[]).filter((function(e){return!He(e)&&"rendered"!==e.status&&e.cpm>0}));n=n.map((function(e){return e.metrics=!1,function(e){return!t(e).every((function(e){return["getStatusCode","getSize","getIdentifiers","metrics.startTiming","metrics.measureTime","metrics.measureHookTime","metrics.checkpoint","metrics.timeSince","metrics.timeBetween","metrics.setMetric","metrics.getMetrics","metrics.fork","metrics.join","metrics.newMetrics","metrics.renameWith","metrics.toJSON","getCpmInNewCurrency"].includes(e)}));function t(e){var n=[],i=function(i){"function"==typeof e[i]?n.push(i):"object"===r(e[i])&&n.push.apply(n,ge(t(e[i]).map((function(e){return"".concat(i,".").concat(e)}))))};for(var o in e)i(o);return n}}(e)?(fe(new Error("Unknown bid method detected when caching bid"),{description:"Failed to cache bids!"}),null):("function"==typeof e.getSize&&(e.getSize=e.getSize()),"function"==typeof e.getStatusCode&&(e.getStatusCode=e.getStatusCode()),"function"==typeof e.getIdentifiers&&(e.getIdentifiers=e.getIdentifiers()),e)})).filter((function(e){return null!=e})),localStorage.setItem(e,JSON.stringify(n))}catch(e){e instanceof Error&&fe(e,{description:"Failed to cache bids!"})}}));window[W].onEvent("auctionEnd",(function t(n){var i,o=JSON.parse(null!==(i=localStorage.getItem(e))&&void 0!==i?i:"[]").filter((function(e){return!He(e)&&"rendered"!==e.status&&e.cpm>0}));localStorage.setItem(e,JSON.stringify([])),o.forEach((function(e){if("string"==typeof e.getSize){var t=e.getSize;e.getSize=function(){return t}}if("number"==typeof e.getStatusCode){var n=e.getStatusCode;e.getStatusCode=function(){return n}}else void 0===e.getStatusCode&&(e.getStatusCode=function(){return 1});if("object"===r(e.getIdentifiers)){var i=e.getIdentifiers;e.getIdentifiers=function(){return i}}})),o.forEach((function(e){if(wt(e.adUnitCode.split("__".concat(m,"__"))[0],e.adUnitCode),e.persistentCache||(e.persistentCache=!0),e.auctionId=n.auctionId,n.bidsReceived.push(e),"function"==typeof e.getIdentifiers){var t=e.getIdentifiers();t.auctionId=e.auctionId,e.getIdentifiers=function(){return t}}})),ae.log("Cached bids retrieved and reassigned to this auction: ",o),window[W].offEvent("auctionEnd",t)}))}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=Re(),At="function"==typeof It.bidCacheFilterFunction;function St(e){var t=window.ayManagerEnv.settings.prebidSettings.customBidPool.codes;return We(t.include,t.exclude,e.split("__".concat(m,"__"))[0])}function Nt(e){var t=window.ayManagerEnv.settings.prebidSettings.customBidPool.bidders;return We(t.include,t.exclude,e)}function _t(e,t){if(t.includes(e))return!1;if(!Nt(e.bidder)||!St(e.adUnitCode))return!1;var n="rendered"===e.status||"targetingSet"===e.status,i=He(e);if(n||i)return!1;if(0===e.cpm)return!1;if(e.pooled)return!1;try{if(At&&!It.bidCacheFilterFunction(e))return!1}catch(e){fe(e,{description:"Failed to run prebid bidCacheFilterFunction"})}return!0}function Ut(e){ne&&(ae.group("ORIGINAL - Custom Bid Pool & Highest Bids from Prebid auction: "),ae.log([]),e.forEach((function(e){var t=e.code,n=window[W].getHighestUnusedBidResponseForAdUnitCode(t);if("adId"in n){var i=n.adId,r=n.bidder,o=n.cpm,a=n.size;ae.log("Highest Bid (Prebid auction) for ".concat(t,": "),{bidder:r,adId:i,cpm:o,size:a,bidObject:JSON.parse(JSON.stringify(n))})}else ae.log("No Bids     (Prebid auction) for ".concat(t,"."))})),ae.groupEnd()),ae.log("ð´ Skipping: Not enough Prebid bids."),ae.groupEnd()}function Rt(e,t){var n;ne&&(ae.group("ORIGINAL - Custom Bid Pool & Highest Bids from Prebid auction: "),ae.log(e.map((function(e){return{adId:e.adId,bidder:e.bidder,cpm:e.cpm,size:e.size,bidObject:JSON.parse(JSON.stringify(e))}}))),t.forEach((function(e){var t=e.code,n=window[W].getHighestUnusedBidResponseForAdUnitCode(t);if("adId"in n){var i=n.adId,r=n.bidder,o=n.cpm,a=n.size;ae.log("Highest Bid (Prebid auction) for ".concat(t,": "),{bidder:r,adId:i,cpm:o,size:a,bidObject:JSON.parse(JSON.stringify(n))})}else ae.log("No Bids     (Prebid auction) for ".concat(t,"."))})),ae.groupEnd());var i=0;do{n=!1,t.forEach((function(t){var r=e.filter((function(e){var n=t.parent.sizes.includes("video"===e.mediaType?"v".concat(e.size):e.size),i=t.parent.mediaTypes.some((function(t){return-1!==t.indexOf(e.mediaType)}));return n&&i}))[0],o=window[W].getHighestUnusedBidResponseForAdUnitCode(t.code);null!=r&&(!("cpm"in o)||r.cpm>o.cpm)&&(ae.group("ð¢ Reassigning Bid"),ae.log("bidId: ",r.adId),ae.log("From: ",r.adUnitCode,"To: ",t.code),ae.log("Uplift: ",r.cpm-("cpm"in o?o.cpm:0)),ae.groupEnd(),r.pooled=!0,r.originalAdUnitCode=r.adUnitCode,r.originalHighestBid="cpm"in o?o.cpm:0,"cpm"in o&&(o.pooled&&o.originalAdUnitCode&&(o.adUnitCode=o.originalAdUnitCode,delete o.pooled,delete o.originalAdUnitCode,delete o.originalHighestBid),e.push(o),e.sort((function(e,t){return t.cpm-e.cpm}))),r.adUnitCode=t.code,e.splice(e.indexOf(r),1),n=!0,i++)}))}while(n);0===i?ae.log("ð¡ No changes done: No higher bids availaible."):ne&&(ae.group("UPDATED - Custom Bid Pool & Highest Updated Bids (".concat(i," changes): ")),ae.log(e.map((function(e){return{adId:e.adId,bidder:e.bidder,cpm:e.cpm,size:e.size,bidObject:e}}))),t.forEach((function(e){var t=e.code,n=window[W].getHighestUnusedBidResponseForAdUnitCode(t);if("adId"in n){var i=n.adId,r=n.bidder,o=n.cpm,a=n.size;ae.log("Highest Bid (Updated) for ".concat(t," ").concat(!0===n.pooled?"ð":"",": "),{bidder:r,adId:i,cpm:o,size:a,bidObject:JSON.parse(JSON.stringify(n))})}else ae.log("No Bids     (Updated) for ".concat(t,"."))})),ae.groupEnd())}var Dt,Mt,Ct,Pt,Lt,xt=[],jt=window,Bt=!1,Ft=function(e){!function(){if(!Bt){Bt=!0;var e=jt.googlefc=jt.googlefc||{};e.ccpa=e.ccpa||{},e.callbackQueue=e.callbackQueue||[];var t=e.controlledMessagingFunction;e.controlledMessagingFunction=function(n){xt.forEach((function(t){try{var n,i=t+"Locator",r=jt[t];delete jt[t],null!==(n=jt.frames[i])&&void 0!==n&&n.frameElement&&jt.frames[i].frameElement.remove(),e.callbackQueue.push({CONSENT_DATA_READY:function(){var e=r();e.length&&e.forEach((function(e){try{jt[t].apply(null,e)}catch(e){console.error(e)}}))}})}catch(e){console.error(e)}})),t?t(n):n.proceed(!0),e.controlledMessagingFunction=t}}}();var t,n,i=e+"Locator",a=[],c=jt;for(;c;){try{if(c.frames[i]){t=c;break}}catch(e){}if(c===jt.top)break;c=c.parent}t||(!function e(){var t=jt.document,n=!!jt.frames[i];if(!n)if(t.body){var r=t.createElement("iframe");r.style.cssText="display:none",r.name=i,t.body.appendChild(r)}else setTimeout(e,5);return!n}(),jt[e]=function(){var e=arguments;if(!e.length)return a;"setGdprApplies"===e[0]?e.length>3&&2===parseInt(e[1],10)&&"boolean"==typeof e[3]&&(n=e[3],"function"==typeof e[2]&&e[2]("set",!0)):"ping"===e[0]?"function"==typeof e[2]&&e[2]({gdprApplies:n,cmpLoaded:!1,cmpStatus:"stub"}):a.push(e)},jt.addEventListener("message",(function(t){var n="string"==typeof t.data,i={};if(n)try{i=JSON.parse(t.data)}catch(e){}else i=t.data;var a=null!==i&&"object"===r(i)?i[e+"Call"]:null;a&&window[e](a.command,a.version,(function(i,r){var c=o({},e+"Return",{returnValue:i,success:r,callId:a.callId});t&&t.source&&t.source.postMessage&&t.source.postMessage(n?JSON.stringify(c):c,"*")}),a.parameter)}),!1),xt.push(e))};function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt,kt,Yt=window.ayManagerEnv.startTime,zt={},Vt=Re();window.ayManagerEnv.settings.experiments.cmpStub&&(null!==(Gt=Vt.consentManagement)&&void 0!==Gt&&Gt.gdpr&&Ft("__tcfapi"),null!==(kt=Vt.consentManagement)&&void 0!==kt&&kt.usp&&Ft("__uspapi"));var qt=null!==(Dt=Vt.bidderTimeout)&&void 0!==Dt?Dt:3e3,Jt=qt-100,Zt=(null===(Mt=Vt.consentManagement)||void 0===Mt||null===(Ct=Mt.gdpr)||void 0===Ct?void 0:Ct.timeout)||0,Xt=(null===(Pt=Vt.consentManagement)||void 0===Pt||null===(Lt=Pt.usp)||void 0===Lt?void 0:Lt.timeout)||0,Qt=Math.max(Zt-100,50),Kt=Math.max(Xt,500),$t=Math.max(function(){var e=window.ayManagerEnv.settings.yieldScriptSettings.failSafeTimeout,t=void 0===e?"3000":e,n=3e3;try{var i=Number(we(t));if(isNaN(i))throw new Error("failsafetimeout value did not evaluate to a number");n=i}catch(e){e instanceof Error&&fe(e,{description:"Unable to parse failsafetimeout value, falling back to default (3000)"})}return n}(),qt+500),en=Math.max($t,Zt+500);function tn(e){en=e,de(P.FAILSAFE_TIMEOUT_CHANGED,e)}function nn(e,t){var n=setTimeout((function(){ue(P.FAILSAFE_TIMEOUT_CHANGED,i),e()}),t);function i(t){ue(P.FAILSAFE_TIMEOUT_CHANGED,i),clearTimeout(n),nn(e,t)}le(P.FAILSAFE_TIMEOUT_CHANGED,i)}var rn=[];function on(e,t,n){var i=window.ayManagerEnv.apsTagIndividualFetch;if(e&&0!==e.length){var r,o,a=new Date-Yt,c=(r=(new Date).getTime(),o="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0,"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random();return r>0?(t=(r+t)%16|0,r=Math.floor(r/16)):(t=(o+t)%16|0,o=Math.floor(o/16)),("x"===e?t:3&t|8).toString(16)}))),s=!1;ae.log("ð Request Bids -> YM     START  - ID: ".concat(c," - time:"),a,e),zt[c]={prebid:!1,aps:!1},X&&window[W].que.push((function(){var t=e.map((function(e){return{code:e.code,mediaTypes:(t=e.parent,n=xe(t.sizes.filter((function(e){return!Be(e)}))),i=je(t.sizes.filter((function(e){return Be(e)}))),Ne(Ne({},-1!==t.mediaTypes.indexOf(b.BANNER)?{banner:{sizes:n}}:{}),-1!==t.mediaTypes.indexOf(b.VIDEO_OUTSTREAM)?{video:{context:"outstream",playerSize:i.length>0?i[0]:[640,480],mimes:["video/mp4","video/webm","application/javascript"],api:[1,2],protocols:[1,2,3,4,5,6,7,8],playbackmethod:[1],skip:0,placement:2,maxduration:30}}:{})),bids:Fe(e.parent)};var t,n,i}));ae.log("ð Request Bids -> PREBID START  - ID: ".concat(c," - time:"),new Date-Yt,"Ad Units:",t),window[W].requestBids({adUnits:t,bidsBackHandler:function(t){window.googletag.cmd.push((function(){ae.log("ð© Request Bids -> PREBID FINISH - ID: ".concat(c," - ").concat(s?"(TIMEDOUT) - ":"","time: ").concat(new Date-Yt," - auction time:"),new Date-Yt-a),window[W].que.push((function(){window[W].setTargetingForGPTAsync(e.map((function(e){return e.code})))})),ae.log("Prebid auction bids:"),ae.table(Object.values(null!=t?t:{}).reduce((function(e,t){return[].concat(ge(e),ge(t.bids))}),[]).sort((function(e,t){return t.cpm-e.cpm}))),zt[c]&&!zt[c].prebid&&(zt[c].prebid=!0,X&&!zt[c].prebid||Z&&!zt[c].aps||(d(e),delete zt[c]))}))}})})),Z&&null!=window.apstag?rn.push((function(){var t=e.filter((function(e){return"waitingAuction"===e.state})).map((function(e){if(-1!==e.parent.mediaTypes.indexOf(b.VIDEO_OUTSTREAM)){var t=je(e.parent.sizes.filter((function(e){return Be(e)}))),n=t.length>0?t:[[640,480]];return{slotName:e.parent.path,slotID:e.code,sizes:n,mediaType:"video"}}var i=xe(e.parent.sizes.filter((function(e){return!Be(e)})));return{slotName:e.parent.path,slotID:e.code,sizes:i}}));if(ae.log("ð Request Bids -> APS    START  - ID: ".concat(c).concat(i?" (individual fetch)":""," - time:"),new Date-Yt,"Ad Units:",t),i){var n=1;t.forEach((function(t){window.apstag.fetchBids({slots:[t],bidTimeout:Jt},(function(t){window.apstag.setDisplayBids(),window.googletag.cmd.push((function(){ae.log("ð© Request Bids -> APS    FINISH - ID: ".concat(c," - ").concat(s?"(TIMEDOUT) - ":"","time: ").concat(new Date-Yt," - auction time:"),new Date-Yt-a),zt[c]&&!zt[c].aps&&(n===e.length?zt[c].aps=!0:n++,X&&!zt[c].prebid||Z&&!zt[c].aps||(delete zt[c],d(e)))}))}))}))}else window.apstag.fetchBids({slots:t,bidTimeout:Jt},(function(t){window.apstag.setDisplayBids(),window.googletag.cmd.push((function(){ae.log("ð© Request Bids -> APS    FINISH - ID: ".concat(c," - ").concat(s?"(TIMEDOUT) - ":"","time: ").concat(new Date-Yt," - auction time:"),new Date-Yt-a),zt[c]&&!zt[c].aps&&(zt[c].aps=!0,X&&!zt[c].prebid||Z&&!zt[c].aps||(delete zt[c],d(e)))}))}))})):Z&&null==window.apstag&&(zt[c].aps=!0),X||Z||window.googletag.cmd.push((function(){delete zt[c],d(e)})),nn((function(){window.googletag.cmd.push((function(){zt[c]&&(Z&&window.apstag&&"function"==typeof window.apstag._getSlotIdToNameMapping&&void 0===window.apstag._getSlotIdToNameMapping()||fe(new Error("Auction timedout!"),{description:"The fail-safe timeout was hit! "+"failSafeTimeout: ".concat(en,". finished: ").concat(JSON.stringify(zt[c])),type:"yieldmanager"}),s=!0,ae.log("â ï¸ Request Bids -> YM   TIMEDOUT - ID: ".concat(c," - time: ").concat(new Date-Yt," - auction time: "),new Date-Yt-a),delete zt[c],d(e))}))}),en)}function d(e){window.googletag.cmd.push((function(){try{ae.log("ð© Request Bids -> YM     FINISH - ID: ".concat(c," - time:"),new Date-Yt);var i=n(e);i.length>0&&(window.googletag.pubads().refresh(i),t&&de(P.AFTER_REFRESH,e.map((function(e){return e.code}))))}catch(t){t instanceof Error&&fe(t,{description:"Failed to execute bidsBackHandler",adUnitCodes:e.map((function(e){return e.code}))})}}))}}function an(e){window.googletag.cmd.push((function(){try{var t,n=window.ayManagerEnv.settings.yieldScriptSettings.destroyFarUnits.enabled,i=xe(e.parent.sizes.filter((function(e){return!Be(e)}))),r={adUnitPath:e.parent.path,size:i.length>0?i:[1,1],div:e.code};de(P.BEFORE_DEFINE_SLOT,e.code,r);var o=null===(t=window.googletag.defineSlot(r.adUnitPath,r.size,r.div))||void 0===t?void 0:t.addService(window.googletag.pubads());de(P.AFTER_DEFINE_SLOT,e.code,o),null!=o&&(e.slot=o,Z&&o.setTargeting("uam","true"),n&&(o.getCollapseEmptyDiv()||o.getDivStartsCollapsed())&&(_e=!0))}catch(t){var a;if(t instanceof Error)fe(t,{description:"Unable to define slot for ad unit ".concat(e.code),adUnitInstanceCode:e.code,adUnitName:null===(a=e.parent)||void 0===a?void 0:a.name})}}))}var cn,sn,dn="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation";function ln(e){e.setAttribute("sandbox",dn)}function un(){return G.filter((function(e){return Ie(e.conditions)}))}function pn(){return Y.filter((function(e){return Ie(e.conditions)}))}function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}window.googletag=window.googletag,window.googletag.cmd=window.googletag.cmd||[],window[W]=window[W]||{},window[W].que=window[W].que||[],window.assertiveQueue=window.assertiveQueue||[];var gn,hn,mn,vn=window.ayManagerEnv.startTime,En={},yn=(o(cn={},N.SCRIPT_LOADED,!1),o(cn,N.WINDOW_READY,!1),o(cn,N.WINDOW_LOADED,!1),o(cn,N.CONSENT_INITIALIZATION,!1),o(cn,N.MANUAL_EVENT,!1),cn),wn=new IntersectionObserver((function(e){try{var t=e.filter((function(e){return e.isIntersecting})).map((function(e){var t=e.target;wn.unobserve(t);var n=k.find((function(e){return e.containerRef===t}));if(!n)throw new Error("Lazy load observer detected an ad unit instance that is no longer in memory");if("standby"!==n.state)throw new Error("Lazy load observer detected an ad unit instance that is not in the 'standby' state");return n})).filter((function(e){return null!=e})).filter((function(e){var t;return!((null===(t=window.ayManagerEnv.checkIfAdUnitIsVisible)||void 0===t||t)&&!Ue(e))||(Sn([e]),!1)}));t.length>0&&(ae.log("ð¤ Requesting bids for lazy load ad units:",t),Dn(t))}catch(e){e instanceof Error&&fe(e,{description:"Exception in Lazy Load Units observer"})}}),{rootMargin:"".concat(null!==(sn=window.ayManagerEnv.customLazyLoadOffset)&&void 0!==sn?sn:1400,"px")}),bn=window.ayManagerEnv.settings.yieldScriptSettings.destroyFarUnits.enabled?new IntersectionObserver((function(e){try{var t=e.filter((function(e){return!e.isIntersecting})).map((function(e){var t=e.target;bn.unobserve(t);var n=k.find((function(e){return e.containerRef===t}));if(!n)throw new Error("farUnitsDestroy observer detected an ad unit instance that is no longer in memory");if("rendered"!==n.state)throw new Error("farUnitsDestroy detected an ad unit instance that is not in the 'rendered' state");return n})).filter((function(e){return null!=e}));t.length>0&&Sn(t,!0)}catch(e){e instanceof Error&&fe(e,{description:"Exception in Far Units Destroy observer"})}}),{rootMargin:"".concat(window.ayManagerEnv.settings.yieldScriptSettings.destroyFarUnits.destructionOffset,"px")}):null,Tn=window.ayManagerEnv.settings.yieldScriptSettings.destroyFarUnits.enabled?new IntersectionObserver((function(e){try{var t=e.filter((function(e){return e.isIntersecting})).map((function(e){var t=e.target;Tn.unobserve(t);var n=k.find((function(e){return e.containerRef===t}));if(!n)throw new Error("farUnitsDestroy observer detected an ad unit instance that is no longer in memory");if("suspended"!==n.state)throw new Error("farUnitsDestroy detected an ad unit instance that is not in the 'suspended' state");return n})).filter((function(e){return null!=e}));t.length>0&&(ae.log("ð Restoring the following ad units:",t),t.forEach((function(e){return"injected"===e.state})),Rn(t))}catch(e){e instanceof Error&&fe(e,{description:"Exception in Far Units Restore observer"})}}),{rootMargin:"".concat(window.ayManagerEnv.settings.yieldScriptSettings.destroyFarUnits.restorationOffset,"px")}):null;function On(e){var t=(null!=e?e:{}).skipAdUnits,n=void 0!==t&&t;ae.log("ð Page change".concat(n?" - HTML units only":"")),de(P.BEFORE_PAGE_CHANGE,{});try{In(k.filter((function(e){var t=document.getElementById(e.code);return!t||t!==e.containerRef}))),An(z.filter((function(e){var t=document.getElementById(e.name);return!t||t!==e.placeholderRef}))),function(){var e=k.concat(z).map((function(e){var t;return null!==(t=e.parent.code)&&void 0!==t?t:e.parent.name})).reduce((function(e,t){return e.includes(t)?e:[].concat(ge(e),[t])}),[]);for(var t in vt)e.includes(t)||delete vt[t]}(),Sn(k.filter((function(e){return"injected"!==e.state&&!Ie(e.parent.conditions)}))),Nn(z.filter((function(e){return"injected"!==e.state&&!Ie(e.parent.conditions)}))),_n()}catch(e){e instanceof Error&&fe(e,{description:"Failed to cleanup instances (remove/reset invalid instances) on page change"})}try{for(var i in n||G.filter((function(e){return e.inject&&Ie(e.conditions)})).forEach((function(e){var t=document.querySelectorAll(e.placement);0!==t.length?Array.prototype.slice.apply(t).forEach((function(t,n){try{var i="true"===t.getAttribute("data-ay-manager-destroyed");if(!k.some((function(n){return n.placementRef===t&&n.parent===e}))&&!i){var r=document.createElement("div"),o={code:Et(e.code),parent:e,containerRef:r,placementRef:t,state:"injected"};k.push(o),wt(e.code,o.code),r.id=o.code,t.insertAdjacentElement(e.position,r),ae.log("ð Ad unit injected - automatic:",[o.code],"time:"+(new Date-vn))}}catch(t){t instanceof Error&&fe(t,{description:"Failed to inject ad unit ".concat(e.name," at placement element '").concat(e.placement,"' at index ").concat(n),adUnitName:e.name})}})):ae.warn("ð Could not inject ad unit:",[e.code],"The placement query string returned no elements:",e.placement,"time:"+(new Date-vn))})),Y.filter((function(e){return Ie(e.conditions)})).forEach((function(e){var t=document.querySelectorAll(e.placement);0!==t.length?Array.prototype.slice.apply(t).forEach((function(t,n){try{if(!z.some((function(n){return n.placementRef===t&&n.parent===e}))){var i=document.createElement("script"),r={name:Et(e.name),parent:e,placeholderRef:i,placementRef:t,state:"injected"};z.push(r),i.id=r.name,i.type="yield-manager/html-unit-placeholder",t.insertAdjacentElement(e.position,i),ae.log("ð HTML unit injected:",[r.name],"time:"+(new Date-vn))}}catch(t){t instanceof Error&&fe(t,{description:"Failed to inject HTML unit ".concat(e.name," at placement element '").concat(e.placement,"' at index ").concat(n),htmlUnitName:e.name})}})):ae.warn("ð Could not inject HTML unit:",[e.name],"The placement query string returned no elements.","time:"+(new Date-vn))})),yn)yn[i]&&Un(i);de(P.AFTER_PAGE_CHANGE,{})}catch(e){e instanceof Error&&fe(e,{description:"Failed to change page"})}}function In(e){var t=window.ayManagerEnv.settings.yieldScriptSettings.destroyFarUnits.enabled;0!==e.length&&(ae.log("Removing the following ad unit instances:",e.map((function(e){return e.code}))),window.googletag.cmd.push((function(){window.googletag.destroySlots(e.map((function(e){return e.slot})).filter((function(e){return null!=e})))})),e.forEach((function(e){try{e.state="injected",delete En[e.code],wn.unobserve(e.containerRef),t&&(bn.unobserve(e.containerRef),Tn.unobserve(e.containerRef));var n=document.getElementById(e.code);n&&n.parentNode&&n.parentNode.removeChild(n)}catch(t){var i;if(t instanceof Error)fe(t,{description:"Failed to remove ad unit instance ".concat(e.code),adUnitInstanceCode:e.code,adUnitName:null===(i=e.parent)||void 0===i?void 0:i.name})}var r=k.findIndex((function(t){return t===e}));k.splice(r,1)})))}function An(e){0!==e.length&&(ae.log("Removing the following HTML unit instances:",e.map((function(e){return e.name}))),e.forEach((function(e){try{e.state="injected";var t=document.getElementById(e.name);t&&t.parentNode&&t.parentNode.removeChild(t);var n=document.querySelectorAll("[data-ay-manager-placement-id='".concat(e.name,"']"));Array.prototype.slice.apply(n).forEach((function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}catch(t){var i;if(t instanceof Error)fe(t,{description:"Failed to remove HTML unit instance ".concat(e.name),htmlUnitName:null===(i=e.parent)||void 0===i?void 0:i.name,htmlUnitInstanceName:e.name})}var r=z.findIndex((function(t){return t===e}));z.splice(r,1)})))}function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.ayManagerEnv.settings.yieldScriptSettings.destroyFarUnits.enabled;0!==(e=e.filter((function(e){return"injected"!==e.state}))).length&&(ae.log("".concat(t?"Suspending":"Reseting"," the following ad unit instances:"),e.map((function(e){return e.code}))),t&&(e=e.map((function(e){var t=e.containerRef.querySelector('div[id^="google_ads_iframe_"]');return t&&(e.size=ke(t,!1)),e}))),window.googletag.cmd.push((function(){window.googletag.destroySlots(e.map((function(e){return e.slot})).filter((function(e){return null!=e})))})),e.forEach((function(e){try{e.state=t?"suspended":"injected",e.slot=void 0,delete En[e.code],wn.unobserve(e.containerRef),n&&(bn.unobserve(e.containerRef),t||Tn.unobserve(e.containerRef));var i=document.getElementById(e.code);if(i&&i.parentNode){var r=document.createElement("div");t&&Ye(r,e.size),i.parentNode.replaceChild(r,i),r.id=e.code,e.containerRef=r,t&&n&&Tn.observe(e.containerRef)}}catch(n){var o;if(n instanceof Error)fe(n,{description:"Unable to ".concat(t?"suspend":"reset"," Ad unit instance ").concat(e.code),adUnitInstanceCode:e.code,adUnitName:null===(o=e.parent)||void 0===o?void 0:o.name}),In([e])}})))}function Nn(e){0!==(e=e.filter((function(e){return"injected"!==e.state}))).length&&(ae.log("Reseting the following HTML unit instances:",e.map((function(e){return e.name}))),e.forEach((function(e){try{var t=document.querySelectorAll("[data-ay-manager-placement-id='".concat(e.name,"']"));Array.prototype.slice.apply(t).forEach((function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})),e.state="injected"}catch(t){var n;if(t instanceof Error)fe(t,{description:"Unable to reset HTML unit instance ".concat(e.name),htmlUnitInstanceName:e.name,htmlUnitName:null===(n=e.parent)||void 0===n?void 0:n.name}),An([e])}})))}function _n(){Sn(k.filter((function(e){return"injected"!==e.state})).filter((function(e){return!Object.values(N).some((function(t){return yn[t]&&Pe([e],t).length>0}))}))),Nn(z.filter((function(e){return"injected"!==e.state})).filter((function(e){return!Object.values(N).some((function(t){return yn[t]&&Pe([e],t).length>0}))})))}function Un(e){ae.log("â¡ ".concat(e),"time:"+(new Date-vn)),yn[e]=!0;var t=Pe(k.filter((function(e){return"injected"===e.state})).filter((function(e){return Ie(e.parent.conditions)})),e),n=Pe(z.filter((function(e){return"injected"===e.state})).filter((function(e){return Ie(e.parent.conditions)})),e);ae.log("ð¯ Trigger fired for:",t.map((function(e){return e.code})),n.map((function(e){return e.name})),"time:"+(new Date-vn)),Rn(t),function(e){e.forEach((function(e){if("injected"===e.state)try{e.state="rendered";var t=document.createElement("div"),n=e.parent,i=n.htmlCode,r=n.position;t.innerHTML=we(i);var o=Array.from(t.children).slice(),a=[];("afterbegin"===r||"afterend"===r?o.slice().reverse():o).forEach((function(t){t.setAttribute("data-ay-manager-placement-id",e.name),e.placementRef.insertAdjacentElement(r,t)})),o.forEach((function(e){(function(e){return"SCRIPT"===e.tagName})(e)&&a.push(e),Array.from(e.getElementsByTagName("SCRIPT")).slice().forEach((function(e){return a.push(e)}))})),a.forEach((function(t){return function(e,t){try{var n=document.createElement("script"),i=!e.src,r=Array.prototype.slice.call(e.attributes);n.async=!1,r.forEach((function(e){return n.setAttribute(e.name,e.value)})),i?(n.type="text/javascript",n.appendChild(document.createTextNode(e.innerHTML))):n.addEventListener("error",(function(e){var n=e.error;fe(n instanceof Error?n:new Error(n),{type:"script.onerror",description:"Error while trying to trigger HTML unit instance: ".concat(t,". ")+"One of its external scripts failed to load!",htmlUnitName:t},!1)})),e.parentElement&&e.parentElement.replaceChild(n,e)}catch(e){e instanceof Error&&fe(e,{description:"Unable to execute script from HTMLUnit ".concat(t),htmlUnitInstanceName:t})}}(t,e.name)}))}catch(t){var c;if(t instanceof Error)fe(t,{description:"Unable to trigger HTML unit instance: ".concat(e.name),htmlUnitInstanceName:e.name,htmlUnitName:null===(c=e.parent)||void 0===c?void 0:c.name}),Nn([e])}}))}(n)}function Rn(e){var t=window.ayManagerEnv.settings.yieldScriptSettings.destroyFarUnits,n=t.enabled,i=t.destructionOffset,r=e.filter((function(e){var t;return!(null===(t=window.ayManagerEnv.checkIfAdUnitIsVisible)||void 0===t||t)||Ue(e)})).filter((function(e){try{an(e),o=e.code,window.googletag.cmd.push((function(){window.googletag._display(o)}));var t=function(e){return(null!=e?e:"").trim().slice(1,(null!=e?e:"").length-2).trim()}(e.parent.style);try{e.containerRef.style.cssText=we(t)}catch(t){t instanceof Error&&fe(t,{description:"Unable to parse ad unit ".concat(e.code," styles")})}if("suspended"===e.state&&Ye(e.containerRef,e.size),e.parent.slug&&e.containerRef&&(e.containerRef.className="".concat(m,"_slug")),e.state="standby",e.parent.lazyLoad){var n,i=null!==(n=window.ayManagerEnv.customLazyLoadOffset)&&void 0!==n?n:1400;return!!Me(e.containerRef,{nearInSight:!0,pixelsOffset:i})||(wn.observe(e.containerRef),!1)}return!0}catch(t){var r;if(t instanceof Error)fe(t,{description:"Unable to trigger ad unit ".concat(e.code),adUnitInstanceCode:e.code,adUnitName:null===(r=e.parent)||void 0===r?void 0:r.name});return In([e]),!1}var o}));if(n){var o=[];r=r.filter((function(e){var t=!Me(e.containerRef,{nearInSight:!0,pixelsOffset:i});return t&&o.push(e),!t})),Sn(o,!0)}Dn(r)}function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.ayManagerEnv.settings.yieldScriptSettings.destroyFarUnits.enabled;e.forEach((function(e){e.state="waitingAuction",n&&bn.unobserve(e.containerRef)})),on(e,t,(function(e){return e.filter((function(e){return"waitingAuction"===e.state&&e.slot})).map((function(e){return e.state="rendered",n&&bn.observe(e.containerRef),e.slot}))}))}function Mn(e){try{var t=function(e){return"string"==typeof e};if(!t(e)||!G.find((function(t){return t.code===e}))){var n=e;return void window.googletag.cmd.push((function(){if(window.googletag._display(n),!window.googletag._wasInitialLoadDisabled){var e="object"===r(i=n)&&"id"in i?window.googletag.pubads().getSlots().find((function(e){return e.getSlotElementId()===n.id})):t(n)?window.googletag.pubads().getSlots().find((function(e){return e.getSlotElementId()===n})):n;null!=e&&window.googletag.pubads().refresh([e])}var i}))}var i=document.querySelector("[data-ay-manager-id='".concat(e,"']"))||document.getElementById(e);if(!i)return;i.removeAttribute("data-ay-manager-id"),i.setAttribute("data-manual-placement-group",e),i.children[0]&&i.removeChild(i.children[0]);var a=G.filter((function(t){return t.code===e&&!1===t.inject}));if(0===a.length)return;a.forEach((function(t){try{var n=document.createElement("div"),r={code:Et(e),parent:t,containerRef:n,state:"injected"};k.push(r),wt(e,r.code),n.id=r.code,i.appendChild(n),ae.log("ð Ad unit injected - manual:",[r.code],"time:"+(new Date-vn));var o=Ie(r.parent.conditions),a=Object.values(N).some((function(e){return yn[e]&&Pe([t],e).length>0}));o&&a&&(ae.log("ð¯ Trigger fired for:",[r.code],"time:"+(new Date-vn)),Rn([r]))}catch(e){e instanceof Error&&fe(e,{description:"Failed to inject ad unit ".concat(t.name),adUnitName:t.name})}}))}catch(t){t instanceof Error&&fe(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({description:"Exception in display API call"},"string"==typeof e?{adUnitCodes:[e]}:{}))}}function Cn(e,t){try{var n=null!=t?t:{},i=n.mode,r=void 0===i?"page":i,o=n.offset,a=void 0===o?400:o,c=n.useInstanceCodes,s=void 0!==c&&c,d=[];if(null==e)d=k.slice();else{if(!(Array.isArray(e)&&e.length>0))return void ae.error("Invalid 'adUnitCodes' provided to ayManagerEnv.refresh()"+JSON.stringify(e));d=s?k.filter((function(t){return e.includes(t.code)})):Le(e,k)}(d=Ce(d=(d=d.filter((function(e){return"rendered"===e.state}))).filter((function(e){var t;return!((null===(t=window.ayManagerEnv.checkIfAdUnitIsVisible)||void 0===t||t)&&!Ue(e))||(Sn([e]),!1)})),r,a)).length>0&&(e=d.map((function(e){return e.code})),ae.log("ð Refreshing the following Ad Units:",e),de(P.BEFORE_REFRESH,e),d.forEach((function(e){return delete En[e.code]})),Dn(d,!0))}catch(e){e instanceof Error&&fe(e,{description:"Exception in refresh API call"})}}function Pn(e,t){try{var n=null!=t?t:{},i=n.mode,r=void 0===i?"page":i,o=n.offset,a=void 0===o?400:o,c=n.useInstanceCodes,s=void 0!==c&&c,d=[];if(null==e)d=k.slice();else{if(!(Array.isArray(e)&&e.length>0))return void ae.error("Invalid 'adUnitCodes' provided to ayManagerEnv.reset()"+JSON.stringify(e));d=s?k.filter((function(t){return e.includes(t.code)})):Le(e,k)}Sn(d=Ce(d=d.filter((function(e){return"injected"!==e.state})),r,a))}catch(e){e instanceof Error&&fe(e,{description:"Exception in reset API call"})}}function Ln(e,t){try{var n=null!=t?t:{},i=n.mode,r=void 0===i?"page":i,o=n.offset,a=void 0===o?400:o,c=n.useInstanceCodes,s=void 0!==c&&c,d=[];if(null==e)d=k.slice();else{if(!(Array.isArray(e)&&e.length>0))return void ae.error("Invalid 'adUnitCodes' provided to ayManagerEnv.destroy()"+JSON.stringify(e));d=s?k.filter((function(t){return e.includes(t.code)})):Le(e,k)}(d=Ce(d,r,a)).forEach((function(e){e.placementRef&&e.placementRef.setAttribute("data-ay-manager-destroyed","true")})),In(d)}catch(e){e instanceof Error&&fe(e,{description:"Exception in destroy API call"})}}function xn(e){try{var t=[];if(null==e)t=G.slice();else{if(!(Array.isArray(e)&&e.length>0))return void ae.error("Invalid 'adUnitCodes' provided to ayManagerEnv.restore()"+JSON.stringify(e));t=G.filter((function(t){return e.includes(t.code)}))}t.length>0&&(e=t.map((function(e){return e.code})),ae.log("ð Restoring the following ad units:",e),t.forEach((function(e){var t=document.querySelectorAll(e.placement);Array.prototype.slice.apply(t).forEach((function(e){return e.removeAttribute("data-ay-manager-destroyed")}))})))}catch(e){e instanceof Error&&fe(e,{description:"Exception in restore API call"})}}function jn(e,t){try{var n=null!=t?t:{},i=n.mode,r=void 0===i?"page":i,o=n.offset,a=void 0===o?400:o,c=n.useInstanceCodes,s=void 0!==c&&c,d=[];if(null==e)d=k.slice();else{if(!(Array.isArray(e)&&e.length>0))return void ae.error("Invalid 'adUnitCodes' provided to ayManagerEnv.trigger()"+JSON.stringify(e));d=s?k.filter((function(t){return e.includes(t.code)})):Le(e,k)}(d=Ce(d=d.filter((function(e){return"injected"===e.state&&Ie(e.parent.conditions)&&Object.values(N).some((function(t){return yn[t]&&Pe([e],t).length>0}))})),r,a)).length>0&&(e=d.map((function(e){return e.code})),ae.log("ð Triggering the following ad units:",e),Rn(d))}catch(e){e instanceof Error&&fe(e,{description:"Exception in trigger API call"})}}function Bn(){try{Un(N.CONSENT_INITIALIZATION)}catch(e){e instanceof Error&&fe(e,{description:"Exception in fakeTCLoad API call"})}}function Fn(){window.ayManagerEnv.cmd.push((function(){_n(),Un(N.MANUAL_EVENT)}))}ae.group("Yield Manager - Initializing..."),ae.log("pbjs loaded:",null!==(gn=window[W].libLoaded)&&void 0!==gn&&gn),ae.log("Ad units:",G),ae.log("HTML units:",Y),ae.groupEnd(),function(e){window.googletag.cmd.push((function(){window.googletag.display=e,window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().setCentering(!0),window.googletag.enableServices()}))}(Mn),Z&&(hn=!1,mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!hn){hn=!0;var t=window.ayManagerEnv.settings.yieldScriptSettings.publisherId,n="FQhSP3hYgzhG7z7uS"===window.ayManagerEnv.entityId&&-1!==window.ayManagerEnv.settings.versionInfo.versionName.indexOf("apsTest"),i={pubID:t,adServer:"googletag",videoAdServer:"DFP",bidTimeout:Jt,gdpr:{cmpTimeout:Qt}},r=function(){for(;rn.length;){var e;null===(e=rn.pop())||void 0===e||e()}De(rn,(function(e){return e()}))};if(null!=window.apstag)try{var o=Wt(Wt({},i),window.ayManagerEnv.apsTagInit?window.ayManagerEnv.apsTagInit:{});n?delete o.params:null!=e&&(o.params=o.params||{},o.params.us_privacy=e),window.apstag.init(o,r)}catch(e){e instanceof Error&&fe(e,{description:"Unable to read apsTagInit data, falling back to default APS initialization"}),window.apstag.init(i,r)}}},"__uspapi"in window?(window.__uspapi("getUSPData",1,(function(e,t){t?mn(e.uspString):mn()})),setTimeout((function(){mn()}),Kt)):mn()),X&&window[W].que.push((function(){try{var e=window.ayManagerEnv.settings.prebidSettings,t=e.customBidPool.enabled,n=e.persistentBidCaching;void 0===Vt.disableAjaxTimeout&&(Vt.disableAjaxTimeout=!0),window[W].setConfig(Vt),G.length&&G[0].bidders.forEach((function(e){e.alias&&window[W].aliasBidder(e.bidder,e.alias)})),window[W].onEvent("bidResponse",(function(e){var t;"teads"===((null===(t=window[W].aliasRegistry)||void 0===t?void 0:t[e.bidderCode])||e.bidderCode)&&(e.ttl=140)})),n&&bt(),window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){try{var t=e.slot.getSlotElementId(),n=window[W].getBidResponsesForAdUnitCode(t).bids.filter((function(e){return"targetingSet"===e.status}));n.length>0&&setTimeout((function(){try{(n=n.filter((function(e){return"targetingSet"===e.status}))).length>0&&(ne&&ae.log("'slotRenderEnded' timer - Bid lost to dfp. Slot element ID: ".concat(t,". Refreshing bids: ").concat(n.map((function(e){return e.adId}))),n.map((function(e){return JSON.parse(JSON.stringify(e))}))),n.forEach((function(e){e.pooled&&e.originalAdUnitCode&&(e.adUnitCode=e.originalAdUnitCode,delete e.pooled,delete e.originalAdUnitCode,delete e.originalHighestBid),delete e.status})))}catch(e){e instanceof Error&&fe(e,{description:"Failed to reset bid that lost to dfp"})}}),500)}catch(e){e instanceof Error&&fe(e,{description:"Failed to reset bid that lost to dfp"})}}))})),t?window[W].onEvent("auctionEnd",(function(e){!function(e){try{var t=window.ayManagerEnv.settings.adUnitInstances;ae.group(">>> customBidPool feature is enabled <<<"),e=e.filter((function(e){return St(e)}));var n=[],i=t.filter((function(t){if(!e.includes(t.code))return!1;var i=window[W].getHighestUnusedBidResponseForAdUnitCode(t.code);return!("adId"in i&&(n.push(i),!Nt(i.bidder)))})),r=Object.values(yt).reduce((function(e,t){return[].concat(ge(e),ge(Object.keys(t)))}),[]).reduce((function(e,t){var n=window[W].getBidResponsesForAdUnitCode(t).bids;return[].concat(ge(e),ge(n))}),[]),o=r.filter((function(e){return _t(e,n)})).sort((function(e,t){return t.cpm-e.cpm}));0===o.length?(Ut(i),r.sort((function(e,t){return t.cpm-e.cpm}))):(Rt(o,i),ae.groupEnd(),r.sort((function(e,t){return t.cpm-e.cpm})))}catch(t){t instanceof Error&&fe(t,{description:"Failed to run the Custom Bid Pool",adUnitCodes:e})}}(e.adUnitCodes)})):Vt.useBidCache&&window[W].onEvent("auctionEnd",(function(e){!function(e){try{var t=window.ayManagerEnv.settings.adUnitInstances;ae.group(">>> Custom bid pool for code variations  <<<");var n=[],r=t.filter((function(t){if(!e.includes(t.code)||!t.slot)return!1;var i=window[W].getHighestUnusedBidResponseForAdUnitCode(t.code);return"adId"in i&&n.push(i),!0})),a=r.reduce((function(e,t){return Ot(Ot({},e),{},o({},t.parent.code,[].concat(ge(e[t.parent.code]?e[t.parent.code]:[]),[t])))}),{});ae.log("Auction ad unit instances:",r),Object.entries(a).forEach((function(e){var t=i(e,2),r=t[0],o=t[1];ae.group("Parent ad unit code: ".concat(r,". Child instances:"),o);var a=Object.keys(yt[r]);ae.log("Adding to the auction bis from the following ad unit code variations:",a);var c=a.reduce((function(e,t){var n=window[W].getBidResponsesForAdUnitCode(t).bids;return[].concat(ge(e),ge(n))}),[]).filter((function(e){return _t(e,n)})).sort((function(e,t){return t.cpm-e.cpm}));0!==c.length?(Rt(c,o),ae.groupEnd()):Ut(o)})),ae.groupEnd()}catch(t){t instanceof Error&&fe(t,{description:"Failed to run the Custom bid pool for code variations",adUnitCodes:e})}}(e.adUnitCodes)}))}catch(e){e instanceof Error&&fe(e,{description:"Exception during Prebid initialization"})}})),window.assertiveQueue.push((function(){var e,t;"function"==typeof window.assertive.setConfig&&void 0===(null===(e=window.assertive.analytics)||void 0===e||null===(t=e.integrations)||void 0===t?void 0:t.fullErrorLogging)&&window.assertive.setConfig("analytics.integrations.fullErrorLogging",!0)})),window.ayManagerEnv.refresh=Cn,window.ayManagerEnv.reset=Pn,window.ayManagerEnv.destroy=Ln,window.ayManagerEnv.restore=xn,window.ayManagerEnv.trigger=jn,window.ayManagerEnv.changePage=mt((function(){return On()}),30),window.ayManagerEnv.display=Mn,window.ayManagerEnv.fakeTCLoad=Bn,window.ayManagerEnv.dispatchManualEvent=Fn,window.ayManagerEnv.runDebugConditionsEvaluation=function(){var e=[];try{e=window.ayManagerEnv.settings.debug.conditionsEvaluation=Ee([].concat(ge(G),ge(Y)))}catch(e){e instanceof Error&&fe(e,{description:"Exception in runDebugConditionsEvaluation API call"})}return e},window.ayManagerEnv.onEvent=le,window.ayManagerEnv.offEvent=ue,window.ayManagerEnv.viewableSlots=En,window.ayManagerEnv.tools={getCookie:ee,setCookie:te,getEnabledAdUnits:un,getEnabledHTMLUnits:pn},function(){for(var e=G.length-1;e>=0;e--){var t=G[e];try{t.path=we(t.path)}catch(n){n instanceof Error&&fe(n,{description:"Unable to evaluate ad unit path for ad unit ".concat(t.code,":")}),G.splice(e,1)}}}(),document.head.appendChild(document.createElement("style")).innerHTML="\n            .".concat(m,"_slug:before {\n                content: 'Ad';\n                display: block;\n                width: 100%;\n                text-align: center;\n                font-size: 10px;\n                color: #6a737c;\n            }\n        "),function(){var e=window.ayManagerEnv.settings.experiments,t=e.sandbox,n=e.sandboxObserve;if(!1!==t){"string"==typeof t&&(dn=t);var i=new MutationObserver((function(e){var t=e[0].target;t.getAttribute("sandbox")!==dn&&ln(t)})),r=Node.prototype.appendChild;Node.prototype.appendChild=function(e){return"IFRAME"===e.nodeName&&e.id&&e.id.startsWith("google_ads_iframe_")&&(ln(e),n&&i.observe(e,{attributes:!0,attributeFilter:["sandbox"]})),r.apply(this,arguments)}}}(),On({skipAdUnits:!0}),Un(N.SCRIPT_LOADED);var Hn=window.ayManagerEnv.settings.yieldScriptSettings.spa;if("history"===(void 0===Hn?{mode:"manual"}:Hn).mode){var Wn=history.pushState,Gn=history.replaceState,kn=mt((function(){On()}),50);history.pushState=function(){Wn.apply(history,arguments),requestAnimationFrame((function(){kn()}))},history.replaceState=function(){Gn.apply(history,arguments),requestAnimationFrame((function(){kn()}))},window.addEventListener("popstate",(function(e){e.state&&requestAnimationFrame((function(){kn()}))}))}var Yn=function(){try{for(On();window.ayManagerEnv.cmd.length;)window.ayManagerEnv.cmd.pop()();De(window.ayManagerEnv.cmd,(function(e){try{e()}catch(e){e instanceof Error&&fe(e,{description:"Exception in queued YM command"})}})),Un(N.WINDOW_READY),zn()}catch(e){e instanceof Error&&fe(e,{description:"Exception in onReady listener"})}},zn=function(){var e=function(){tn($t),Un(N.CONSENT_INITIALIZATION)};"__tcfapi"in window?window.__tcfapi("getTCData",2,(function(t){try{yn[N.CONSENT_INITIALIZATION]||!1!==t.gdprApplies&&"tcloaded"!==t.eventStatus?window.__tcfapi("addEventListener",2,(function(t,n){yn[N.CONSENT_INITIALIZATION]||"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus?n||ae.log("Listener for 'TCF Load' event could not be registered!"):(e(),window.__tcfapi("removeEventListener",2,(function(e){}),t.listenerId))})):e()}catch(e){e instanceof Error&&fe(e,{description:"Exception in Consent Initialization listener"})}})):(tn($t),ae.warn("__tcfapi framework/stub not found"))};/interactive/.test(document.readyState)||/complete/.test(document.readyState)?Yn():document.addEventListener("readystatechange",(function(e){"interactive"===e.target.readyState&&Yn()}));var Vn=function(){try{Un(N.WINDOW_LOADED)}catch(e){e instanceof Error&&fe(e,{description:"Exception in onLoad listener"})}};/complete/.test(document.readyState)?Vn():document.addEventListener("readystatechange",(function(e){"complete"===e.target.readyState&&Vn()}));var qn=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,i=e.getSlotElementId(),r=k.find((function(e){return e.code===i})),o=null===(null===(t=En[i])||void 0===t?void 0:t.viewedAt);r&&0!==r.parent.refresh&&!o&&(En[i]={slot:e,viewedAt:n})};window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("impressionViewable",(function(e){var t=e.slot;try{qn(t)}catch(e){e instanceof Error&&fe(e,{description:"Failed to keep track of impression for ".concat(t.getSlotElementId()),adUnitInstanceCode:t.getSlotElementId()})}})),window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot,n=e.advertiserId;if(e.isEmpty)qn(t);else try{var i=window.ayManagerEnv.settings.yieldScriptSettings.disableRefreshForDirectCampaign,r=(i=void 0===i?{enabled:!1,advertiserIds:{include:[],exclude:[]}}:i).advertiserIds,o=r.include,a=r.exclude;if(i.enabled&&n)!We(o,a,n)&&qn(t,null)}catch(e){e instanceof Error&&fe(e,{description:"Failed to prevent direct campaign ads from refreshing ".concat(t.getSlotElementId()),adUnitInstanceCode:t.getSlotElementId()})}}))})),setInterval((function(){try{!function(){var e=Object.entries(En).filter((function(e){var t=i(e,2);return t[0],null!==t[1].viewedAt}));if(!document.hidden&&e.length>0){var t=[];e.forEach((function(e){var n=i(e,2),r=n[0],o=n[1].viewedAt,a=k.find((function(e){return e.code===r}));if(a)if("rendered"===a.state){var c=a.parent.refresh;o<=new Date-1e3*c&&Me(a.containerRef)&&(delete En[r],t.push(r))}else delete En[r]})),t.length>0&&Cn(t,{useInstanceCodes:!0,mode:"page"})}}()}catch(e){e instanceof Error&&fe(e,{description:"Failed to refresh viewable slots at setInterval"})}}),3e3),e.changePage=On,e.destroy=Ln,e.dispatchManualEvent=Fn,e.display=Mn,e.fakeTCLoad=Bn,e.refresh=Cn,e.reset=Pn,e.restore=xn,e.trigger=jn,Object.defineProperty(e,"__esModule",{value:!0})}({});
