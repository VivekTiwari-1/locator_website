var media_layout=get_media_layout();jsQueue(()=>{if(AHE.userEngagementLevel>=2&&!AHE.interestGroup){userInterestGroupSurvey();}});function userInterestGroupSurvey(){ahe_dialogue('/template/files/interest-survey.php?ui_lang='+AHE.contentLang+'&v='+AHE.lastDeploy,400,500,'Survey');}
jsQueue(()=>{if(media_layout=='mobile'){$('#header .header_sm_buttons').clone().appendTo('#mobile_sm_buttons');}});jsQueue(()=>{if(AHE.idHashMd5||AHE.idHashSha256){adminLog('ID Hash recorded');analyticsEvent('Known User','Pageview','Known User');}});jsQueue(()=>{if(!AHE.messagesDisplayed){let session_message=getCookie('ahe_session_message');let session_error=getCookie('ahe_session_error');if(session_error&&session_error!='null'){show_float_message('Error',session_error,true,0,5);setCookie('ahe_session_error',null,0);}else if(session_message&&session_message!='null'){show_float_message('Message',session_message,false,0,5);setCookie('ahe_session_message',null,0);}}});jsQueue(()=>{if(typeof window.__uspapi==='function'&&typeof window.__tcfapi!='undefined'){window.__uspapi('uspPing',1,function(obj,status){if(status&&obj.mode.includes('USP')&&obj.jurisdiction.includes(obj.location.toUpperCase())){document.getElementById('ccpa_message').innerHTML='We use cookies and other data collection technologies to provide the best experience for our customers.<br/> You may request that your data not be shared with third parties here: '
+`<a href="#" onclick="window.__uspapi('displayUspUi');"`
+'>Do Not Sell My Data</a>'
+'.';window.__uspapi('setUspDftData',1,function(obj,status){if(!status){console.log("Error: USP string not updated!")}});}});}});jsQueue(()=>{async_load_js('https://cdn.gravitec.net/storage/225f0ee26b8dcfd255ad4cb40c344062/client.js',function(){var Gravitec=Gravitec||[];setTimeout(function(){try{if(AHE.pageViewCount>10&&AHE.visitCount>=5){Gravitec.push(["segmentation.addTag","highEngagement"]);}}catch(e){console.error('Failed to add user engagement data to Gravitec.');}
try{if(AHE.interestGroup){Gravitec.push(['segmentation.addTag',AHE.interestGroup]);}}catch(e){console.error('Failed to add user interest group to Gravitec.');}
try{let userInterests=jsonStore('interestTags');if(typeof userInterests=='object'){if(userInterests.length>0){Gravitec.push(["segmentation.addTags",userInterests]);}}}catch(e){console.error('Failed to add user interest tags to Gravitec!');}},1000);});});jsQueue(()=>{privacyReady.then(()=>{if(AHE.idHashMd5&&AHE.privacyContentConsent){let syncUrl='/api/mc-user-sync.php?emd='+AHE.idHashMd5;$.post(syncUrl,function(data){adminLog(data);});}});});jsQueue(()=>{if(document.getElementById('ci_rating_wrapper')){var ci_id=AHE.ci_id;var cis_rated=jsonStore('cis_rated')||[];if(cis_rated.includes(ci_id)){console.log('Already rated!');$('#ci_rating_buttons_wrapper').html(AHE.feedbackThanks);}
$('#ci_rating_wrapper .rating_button.base').on('click',function(){$('#ci_rating_wrapper .rating_button').removeClass('base').addClass('inactive');$(this).addClass('selected');if(cis_rated.includes(ci_id)){console.warn('Rating already submitted!');}else{let data={ci_id:ci_id,rating:$(this).attr('data-rating')}
$.post('/ajax/ajax_ci_rating.php',data,function(result){console.log('Rating submitted!');cis_rated.push(ci_id);jsonStore('cis_rated',arrayUnique(cis_rated));$('#ci_rating_buttons_wrapper').html(AHE.feedbackThanks);},'json');}});}});setTimeout(()=>{privacyReady.then(()=>{jsQueue(()=>{if(AHE.ci_id){if(AHE.interestEmailOptIn||AHE.privacyContentConsent){async_load_js('/js/ahe-interests.js?v='+AHE.lastDeploy);}}});jsQueue(()=>{if(AHE.ci_id&&AHE.privacyContentConsent){$.getJSON('/ajax/ajax_user_id_history.php?ci_id='+AHE.ci_id+'&ci_lang='+AHE.contentLang,function(data){if(AHE.is_admin){adminLog('Synced reading history data with server:');data.forEach((item)=>{adminLog(item);});}});}});});},10000);jsQueue(()=>{if(AHE.is_member){}else{}});jsQueue(()=>{var banner=false;let ui_lang=AHE.contentLang;if(AHE.contentLang=='en'){if((!banner&&!AHE.is_member&&AHE.pageViewCount>=3&&!getCookie("memberMsgSeen"))||getUrlParameter(window.location.href,"membershipbanner")=="show"){banner="membership_message_"+AHE.ab+".html";}
if((!banner&&AHE.visitCount>=2&&!getCookie("interestEmailMsgSeen")&&!AHE.interestEmailOptIn)||getUrlParameter(window.location.href,'interestemailsbanner')=='show'){banner='interest_emails_message.html';}
if(navigator.language.substr(0,2)!='en'){if((!banner&&!getCookie('is_donor')&&AHE.pageViewCount>=6&&AHE.visitCount>=3&&!getCookie("donateTranslationMsgSeen"))||getUrlParameter(window.location.href,"donatetranslationbanner")=="show"){banner="donate_translation_message.php";ui_lang=navigator.language.substr(0,2);}}}else if(AHE.contentLang=='es'){if((!banner&&!AHE.is_member&&AHE.pageViewCount>=3&&!getCookie("memberMsgSeen"))||getUrlParameter(window.location.href,"membershipbanner")=="show"){banner="membership_message_es.html";}
if((!banner&&!getCookie('is_donor')&&AHE.pageViewCount>=6&&AHE.visitCount>=3&&!getCookie("donateTranslationMsgSeen"))||getUrlParameter(window.location.href,"donatetranslationbanner")=="show"){banner="donate_translation_message.php";}}else if(AHE.contentLang=='fr'){if((!banner&&!AHE.is_member&&AHE.pageViewCount>=3&&!getCookie("memberMsgSeen"))||getUrlParameter(window.location.href,"membershipbanner")=="show"){banner="membership_message_fr.html";}
if((!banner&&!getCookie('is_donor')&&AHE.pageViewCount>=6&&AHE.visitCount>=3&&!getCookie("donateTranslationMsgSeen"))||getUrlParameter(window.location.href,"donatetranslationbanner")=="show"){banner="donate_translation_message.php";}}else{if((!banner&&!getCookie('is_donor')&&AHE.pageViewCount>=3&&!getCookie("donateTranslationMsgSeen"))||getUrlParameter(window.location.href,"donatetranslationbanner")=="show"){banner="donate_translation_message.php";}}
if(banner){AHE.topBannerDisplayed=true;$.get("/template/files/top-banners/"+banner+"?v="+AHE.lastDeploy+"&ui_lang="+ui_lang,function(data){$("body").prepend(data);analyticsEvent('Top Banner',banner,'displayed');});}});jsQueue(()=>{$(".ci_image").on('error',function(){$(this).parent().children("source").remove();});});jsQueue(()=>{observedElementInView('[data-src]',function(elem){elem.setAttribute('src',elem.getAttribute('data-src'));elem.removeAttribute('data-src');});});jsQueue(()=>{var scrollTimeOut;document.addEventListener('scroll',function(){jsQueue(()=>{if(scrollTimeOut){clearTimeout(scrollTimeOut);}
scrollTimeOut=setTimeout(function(){if(!AHE.cmpLinkMoved){$(".qc-cmp-persistent-link").appendTo("#footer .footer_phrase");$(".qc-cmp-persistent-link").css('position','relative');$(".qc-cmp-persistent-link").css('z-index','1');AHE.cmpLinkMoved=true;}
if(media_layout=="desktop-narrow"||media_layout=="desktop-wide"){primisFooterFade();}},50);});},{passive:true});});jsQueue(()=>{nonumbers();preview_book();thickbox();});jsQueue(()=>{var iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if(!iOS){autocomplete_tags();}});jsQueue(()=>{$(window).resize(function(){wWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;wHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;$(window).scroll();});});jsQueue(()=>{setTimeout(()=>{if(AHE.imageErrors.length>0){if(Math.random()<0.1||AHE.is_editor){let ci_ids=[];AHE.imageErrors.forEach(function(imgURL){let image_id=imgURL.match(/img[/].[/].[/].+[/]([0-9]+)[.][a-zA-Z]+.*/,'')[1];if(image_id>0){ci_ids.push('3-'+image_id);}});console.warn('Reporting image loading errors ...',ci_ids);$.post('/ajax/ajax_image_loading_errors.php',{broken_ci_ids:ci_ids});}}},3000);});jsQueue(()=>{if(document.getElementById('play-remixd')){$('#play-remixd').click(function(){let pHeight=($('#audio-frame-wrapper').attr('data-height'));let pMargin=($('#audio-frame-wrapper').attr('data-margin'));$('#audio-frame-contents').attr('src',$('#audio-frame-contents').attr('data-url'));$('#audio-frame-wrapper').slideDown();});$('#audio-frame-close').click(function(){$('#audio-frame-contents').attr('src',null);$('#audio-frame-wrapper').slideUp();});}});jsQueue(()=>{if(document.getElementById('mc-embedded-subscribe-form')){$('#mc-embedded-subscribe-form').submit(function(e){e.preventDefault();var mcSubmitTimeout=setTimeout(function(){$('#mc-embedded-subscribe-form').off('submit').submit();},2000);let email=$('#mce-EMAIL').val();setEmailHashes(email);setCookie('newsletter_subscriber',1,90,'Strict');analyticsEvent('Newsletter Signup','desktop',AHE.ab,function(){clearTimeout(mcSubmitTimeout);$('#mc-embedded-subscribe-form').off('submit').submit();});});}});jsQueue(()=>{if(document.getElementById('mc-embedded-subscribe-form-edu')){$('#mc-embedded-subscribe-form-edu').submit(function(e){e.preventDefault();var mcSubmitTimeout=setTimeout(function(){$('#mc-embedded-subscribe-form-edu').off('submit').submit();},2000);let email=$('#mce-EMAIL').val();setEmailHashes(email);analyticsEvent('Teacher Newsletter Signup','desktop',AHE.ab,function(){clearTimeout(mcSubmitTimeout);$('#mc-embedded-subscribe-form-edu').off('submit').submit();});});}});jsQueue(()=>{if(document.getElementById('mailchimp-mobile-form')){$('#mailchimp-mobile-form').submit(function(e){e.preventDefault();var mcSubmitTimeout=setTimeout(function(){$('#mailchimp-mobile-form').off('submit').submit();},2000);let email=$('#mce-EMAIL-mobile').val();setEmailHashes(email);setCookie('newsletter_subscriber',1,90,'Strict');analyticsEvent('Newsletter Signup','mobile',AHE.ab,function(){clearTimeout(mcSubmitTimeout);$('#mailchimp-mobile-form').off('submit').submit();});});}});jsQueue(()=>{if(document.getElementById('membership_sidebar')){if($(window).width()-$('#page').width()>60&&AHE.media_layout!='mobile'){setTimeout(()=>{$('#membership_sidebar').animate({left:'0px'},500);window.addEventListener("resize",()=>{if($(window).width()-$('#page').width()<=60){$('#membership_sidebar').hide();}else{$('#membership_sidebar').show();}},{passive:true});},3000);}}});jsQueue(()=>{if(AHE.isBot){zarazEvent('page_view_bot',1);}});jsQueue(()=>{if(AHE.newDailyVisit==true&&AHE.visitCount>0){zarazEvent('daily_visit',AHE.visitCount);}});jsQueue(()=>{if(document.documentElement.clientWidth>1800&&document.getElementById('toc')){document.querySelectorAll('main h2, article h3').forEach((item)=>{if(!item.classList.contains('no_toc')){let section={};section.label=item.innerText;section.type=item.nodeName.toLowerCase();section.node=item;let ele=document.createElement('a');ele.classList.add(section.type);ele.section=section;ele.innerText=section.label;ele.addEventListener('click',function(){this.section.node.scrollIntoView({behavior:'smooth'});ga4Event('toc_click',ele.innerText);},{passive:true});document.getElementById('toc_contents').appendChild(ele);}});let scrollAborter=new AbortController();observedElementInView('article',()=>{window.addEventListener('scroll',()=>{let h=document.querySelector('main').offsetHeight;if(document.querySelector('main').offsetLeft>200){if(window.scrollY>=document.querySelector('main').offsetTop-100){setTimeout(function(){let w=document.getElementById('toc_wrapper').offsetWidth;document.getElementById('toc_wrapper').style.height=h+'px';document.getElementById('toc_wrapper').style.left=Math.round((document.querySelector('main').offsetLeft-w)/2)+'px';$('#toc_wrapper').fadeIn(500);window.addEventListener('resize',()=>{document.getElementById('toc_wrapper').style.left=Math.round((document.querySelector('main').offsetLeft-w)/2)+'px';},{passive:true});ga4Event('toc_view');scrollAborter.abort();},100);}}},{passive:true,signal:scrollAborter.signal});});}});scheduleIdleQueue();function preview_book(){if(document.getElementById('book_detail_container')){var preview="#book_detail_container";var first_asin=get_id($("#books_preview .bookimage img:first").attr("id"));$(preview).html($("#bookinfo_"+first_asin).html());choose_book_preview_size();$("#books_preview .bookimage img").hover(function(e){var asin=get_id(this.id);var title=$(this).attr("alt");var details=$("#bookinfo_"+asin).html();$(preview).html(details);},function(){});}}
function choose_book_preview_size(){if(document.getElementById('books_preview')){var book_preview_width=$("#books_preview").width();var medium_preview_width=0;$("#books_preview .book_mediumimage").map(function(){medium_preview_width+=$(this).outerWidth();});if(medium_preview_width<book_preview_width){$("#books_preview .book_smallimage").hide();$("#books_preview .book_mediumimage").show();}}}
function get_visit_count(){var visit_count=getCookie("visit_count");var last_visit_date=getCookie("last_visit_date");var now=new Date();var today=now.getFullYear()+"-"+now.getMonth()+"-"+now.getDate();}
function image_display_mouseover(){$("figure picture img").not(".no_caption").map(function(){var alt=$(this).attr("alt");$(this).after('<figcaption class="image_display_title light">'+alt+'</figcaption>');});}
function setEmailHashes(email){if(AHE.interestEmailOptIn||(AHE.privacyAdConsent&&AHE.privacyContentConsent)){adminLog('Handling ID hashes...');if(emailIsValid(email)){async_load_js('/js/crypto.js',function(){let md5Hash=CryptoJS.MD5(email);let sha256Hash=CryptoJS.SHA256(email);if(!AHE.idHashSha256){AHE.idHashSha256=sha256Hash.toString();setCookie('esh',AHE.idHashSha256,365,'Strict');}
if(!AHE.idHashMd5){AHE.idHashMd5=md5Hash.toString();setCookie('emd',AHE.idHashMd5,365,'Strict');}},true);}}}
jsQueue(()=>{(function(e,t,n){function s(t,n){this.bodyOverflowX;this.callbacks={hide:[],show:[]};this.checkInterval=null;this.Content;this.$el=e(t);this.$elProxy;this.elProxyPosition;this.enabled=true;this.options=e.extend({},i,n);this.mouseIsOverProxy=false;this.namespace="tooltipster-"+Math.round(Math.random()*1e5);this.Status="hidden";this.timerHide=null;this.timerShow=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this._init()}function o(t,n){var r=true;e.each(t,function(e,i){if(typeof n[e]==="undefined"||t[e]!==n[e]){r=false;return false}});return r}function f(){return!a&&u}function l(){var e=n.body||n.documentElement,t=e.style,r="transition";if(typeof t[r]=="string"){return true}v=["Moz","Webkit","Khtml","O","ms"],r=r.charAt(0).toUpperCase()+r.substr(1);for(var i=0;i<v.length;i++){if(typeof t[v[i]+r]=="string"){return true}}return false}var r="tooltipster",i={animation:"fade",arrow:true,arrowColor:"",autoClose:true,content:null,contentAsHTML:false,contentCloning:true,debug:true,delay:200,minWidth:0,maxWidth:null,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},icon:"(?)",iconCloning:true,iconDesktop:false,iconTouch:false,iconTheme:"tooltipster-icon",interactive:false,interactiveTolerance:350,multiple:false,offsetX:0,offsetY:0,onlyOne:false,position:"top",positionTracker:false,speed:350,timer:0,theme:"tooltipster-default",touchDevices:true,trigger:"hover",updateAnimation:true};s.prototype={_init:function(){var t=this;if(n.querySelector){if(t.options.content!==null){t._content_set(t.options.content)}else{var r=t.$el.attr("title");if(typeof r==="undefined")r=null;t._content_set(r)}var i=t.options.functionInit.call(t.$el,t.$el,t.Content);if(typeof i!=="undefined")t._content_set(i);t.$el.removeAttr("title").addClass("tooltipstered");if(!u&&t.options.iconDesktop||u&&t.options.iconTouch){if(typeof t.options.icon==="string"){t.$elProxy=e('<span class="'+t.options.iconTheme+'"></span>');t.$elProxy.text(t.options.icon)}else{if(t.options.iconCloning)t.$elProxy=t.options.icon.clone(true);else t.$elProxy=t.options.icon}t.$elProxy.insertAfter(t.$el)}else{t.$elProxy=t.$el}if(t.options.trigger=="hover"){t.$elProxy.on("mouseenter."+t.namespace,function(){if(!f()||t.options.touchDevices){t.mouseIsOverProxy=true;t._show()}}).on("mouseleave."+t.namespace,function(){if(!f()||t.options.touchDevices){t.mouseIsOverProxy=false}});if(u&&t.options.touchDevices){t.$elProxy.on("touchstart."+t.namespace,function(){t._showNow()})}}else if(t.options.trigger=="click"){t.$elProxy.on("click."+t.namespace,function(){if(!f()||t.options.touchDevices){t._show()}})}}},_show:function(){var e=this;if(e.Status!="shown"&&e.Status!="appearing"){if(e.options.delay){e.timerShow=setTimeout(function(){if(e.options.trigger=="click"||e.options.trigger=="hover"&&e.mouseIsOverProxy){e._showNow()}},e.options.delay)}else e._showNow()}},_showNow:function(n){var r=this;r.options.functionBefore.call(r.$el,r.$el,function(){if(r.enabled&&r.Content!==null){if(n)r.callbacks.show.push(n);r.callbacks.hide=[];clearTimeout(r.timerShow);r.timerShow=null;clearTimeout(r.timerHide);r.timerHide=null;if(r.options.onlyOne){e(".tooltipstered").not(r.$el).each(function(t,n){var r=e(n),i=r.data("tooltipster-ns");e.each(i,function(e,t){var n=r.data(t),i=n.status(),s=n.option("autoClose");if(i!=="hidden"&&i!=="disappearing"&&s){n.hide()}})})}var i=function(){r.Status="shown";e.each(r.callbacks.show,function(e,t){t.call(r.$el)});r.callbacks.show=[]};if(r.Status!=="hidden"){var s=0;if(r.Status==="disappearing"){r.Status="appearing";if(l()){r.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+r.options.animation+"-show");if(r.options.speed>0)r.$tooltip.delay(r.options.speed);r.$tooltip.queue(i)}else{r.$tooltip.stop().fadeIn(i)}}else if(r.Status==="shown"){i()}}else{r.Status="appearing";var s=r.options.speed;r.bodyOverflowX=e("body").css("overflow-x");e("body").css("overflow-x","hidden");var o="tooltipster-"+r.options.animation,a="-webkit-transition-duration: "+r.options.speed+"ms; -webkit-animation-duration: "+r.options.speed+"ms; -moz-transition-duration: "+r.options.speed+"ms; -moz-animation-duration: "+r.options.speed+"ms; -o-transition-duration: "+r.options.speed+"ms; -o-animation-duration: "+r.options.speed+"ms; -ms-transition-duration: "+r.options.speed+"ms; -ms-animation-duration: "+r.options.speed+"ms; transition-duration: "+r.options.speed+"ms; animation-duration: "+r.options.speed+"ms;",f=r.options.minWidth?"min-width:"+Math.round(r.options.minWidth)+"px;":"",c=r.options.maxWidth?"max-width:"+Math.round(r.options.maxWidth)+"px;":"",h=r.options.interactive?"pointer-events: auto;":"";r.$tooltip=e('<div class="tooltipster-base '+r.options.theme+'" style="'+f+" "+c+" "+h+" "+a+'"><div class="tooltipster-content"></div></div>');if(l())r.$tooltip.addClass(o);r._content_insert();r.$tooltip.appendTo("body");r.reposition();r.options.functionReady.call(r.$el,r.$el,r.$tooltip);if(l()){r.$tooltip.addClass(o+"-show");if(r.options.speed>0)r.$tooltip.delay(r.options.speed);r.$tooltip.queue(i)}else{r.$tooltip.css("display","none").fadeIn(r.options.speed,i)}r._interval_set();e(t).on("scroll."+r.namespace+" resize."+r.namespace,function(){r.reposition()});if(r.options.autoClose){e("body").off("."+r.namespace);if(r.options.trigger=="hover"){if(u){setTimeout(function(){e("body").on("touchstart."+r.namespace,function(){r.hide()})},0)}if(r.options.interactive){if(u){r.$tooltip.on("touchstart."+r.namespace,function(e){e.stopPropagation()})}var p=null;r.$elProxy.add(r.$tooltip).on("mouseleave."+r.namespace+"-autoClose",function(){clearTimeout(p);p=setTimeout(function(){r.hide()},r.options.interactiveTolerance)}).on("mouseenter."+r.namespace+"-autoClose",function(){clearTimeout(p)})}else{r.$elProxy.on("mouseleave."+r.namespace+"-autoClose",function(){r.hide()})}}else if(r.options.trigger=="click"){setTimeout(function(){e("body").on("click."+r.namespace+" touchstart."+r.namespace,function(){r.hide()})},0);if(r.options.interactive){r.$tooltip.on("click."+r.namespace+" touchstart."+r.namespace,function(e){e.stopPropagation()})}}}}if(r.options.timer>0){r.timerHide=setTimeout(function(){r.timerHide=null;r.hide()},r.options.timer+s)}}})},_interval_set:function(){var t=this;t.checkInterval=setInterval(function(){if(e("body").find(t.$el).length===0||e("body").find(t.$elProxy).length===0||t.Status=="hidden"||e("body").find(t.$tooltip).length===0){if(t.Status=="shown"||t.Status=="appearing")t.hide();t._interval_cancel()}else{if(t.options.positionTracker){var n=t._repositionInfo(t.$elProxy),r=false;if(o(n.dimension,t.elProxyPosition.dimension)){if(t.$elProxy.css("position")==="fixed"){if(o(n.position,t.elProxyPosition.position))r=true}else{if(o(n.offset,t.elProxyPosition.offset))r=true}}if(!r){t.reposition()}}}},200)},_interval_cancel:function(){clearInterval(this.checkInterval);this.checkInterval=null},_content_set:function(e){if(typeof e==="object"&&e!==null&&this.options.contentCloning){e=e.clone(true)}this.Content=e},_content_insert:function(){var e=this,t=this.$tooltip.find(".tooltipster-content");if(typeof e.Content==="string"&&!e.options.contentAsHTML){t.text(e.Content)}else{t.empty().append(e.Content)}},_update:function(e){var t=this;t._content_set(e);if(t.Content!==null){if(t.Status!=="hidden"){t._content_insert();t.reposition();if(t.options.updateAnimation){if(l()){t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing");setTimeout(function(){if(t.Status!="hidden"){t.$tooltip.removeClass("tooltipster-content-changing");setTimeout(function(){if(t.Status!=="hidden"){t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})}},t.options.speed)}},t.options.speed)}else{t.$tooltip.fadeTo(t.options.speed,.5,function(){if(t.Status!="hidden"){t.$tooltip.fadeTo(t.options.speed,1)}})}}}}else{t.hide()}},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(false),width:e.outerWidth(false)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(n){var r=this;if(n)r.callbacks.hide.push(n);r.callbacks.show=[];clearTimeout(r.timerShow);r.timerShow=null;clearTimeout(r.timerHide);r.timerHide=null;var i=function(){e.each(r.callbacks.hide,function(e,t){t.call(r.$el)});r.callbacks.hide=[]};if(r.Status=="shown"||r.Status=="appearing"){r.Status="disappearing";var s=function(){r.Status="hidden";if(typeof r.Content=="object"&&r.Content!==null){r.Content.detach()}r.$tooltip.remove();r.$tooltip=null;e(t).off("."+r.namespace);e("body").off("."+r.namespace).css("overflow-x",r.bodyOverflowX);e("body").off("."+r.namespace);r.$elProxy.off("."+r.namespace+"-autoClose");r.options.functionAfter.call(r.$el,r.$el);i()};if(l()){r.$tooltip.clearQueue().removeClass("tooltipster-"+r.options.animation+"-show").addClass("tooltipster-dying");if(r.options.speed>0)r.$tooltip.delay(r.options.speed);r.$tooltip.queue(s)}else{r.$tooltip.stop().fadeOut(r.options.speed,s)}}else if(r.Status=="hidden"){i()}return r},show:function(e){this._showNow(e);return this},update:function(e){return this.content(e)},content:function(e){if(typeof e==="undefined"){return this.Content}else{this._update(e);return this}},reposition:function(){var n=this;if(e("body").find(n.$tooltip).length!==0){n.$tooltip.css("width","");n.elProxyPosition=n._repositionInfo(n.$elProxy);var r=null,i=e(t).width(),s=n.elProxyPosition,o=n.$tooltip.outerWidth(false),u=n.$tooltip.innerWidth()+1,a=n.$tooltip.outerHeight(false);if(n.$elProxy.is("area")){var f=n.$elProxy.attr("shape"),l=n.$elProxy.parent().attr("name"),c=e('img[usemap="#'+l+'"]'),h=c.offset().left,p=c.offset().top,d=n.$elProxy.attr("coords")!==undefined?n.$elProxy.attr("coords").split(","):undefined;if(f=="circle"){var v=parseInt(d[0]),m=parseInt(d[1]),g=parseInt(d[2]);s.dimension.height=g*2;s.dimension.width=g*2;s.offset.top=p+m-g;s.offset.left=h+v-g}else if(f=="rect"){var v=parseInt(d[0]),m=parseInt(d[1]),y=parseInt(d[2]),b=parseInt(d[3]);s.dimension.height=b-m;s.dimension.width=y-v;s.offset.top=p+m;s.offset.left=h+v}else if(f=="poly"){var w=[],E=[],S=0,x=0,T=0,N=0,C="even";for(var k=0;k<d.length;k++){var L=parseInt(d[k]);if(C=="even"){if(L>T){T=L;if(k===0){S=T}}if(L<S){S=L}C="odd"}else{if(L>N){N=L;if(k==1){x=N}}if(L<x){x=L}C="even"}}s.dimension.height=N-x;s.dimension.width=T-S;s.offset.top=p+x;s.offset.left=h+S}else{s.dimension.height=c.outerHeight(false);s.dimension.width=c.outerWidth(false);s.offset.top=p;s.offset.left=h}}var A=0,O=0,M=0,_=parseInt(n.options.offsetY),D=parseInt(n.options.offsetX),P=n.options.position;function H(){var n=e(t).scrollLeft();if(A-n<0){r=A-n;A=n}if(A+o-n>i){r=A-(i+n-o);A=i+n-o}}function B(n,r){if(s.offset.top-e(t).scrollTop()-a-_-12<0&&r.indexOf("top")>-1){P=n}if(s.offset.top+s.dimension.height+a+12+_>e(t).scrollTop()+e(t).height()&&r.indexOf("bottom")>-1){P=n;M=s.offset.top-a-_-12}}if(P=="top"){var j=s.offset.left+o-(s.offset.left+s.dimension.width);A=s.offset.left+D-j/2;M=s.offset.top-a-_-12;H();B("bottom","top")}if(P=="top-left"){A=s.offset.left+D;M=s.offset.top-a-_-12;H();B("bottom-left","top-left")}if(P=="top-right"){A=s.offset.left+s.dimension.width+D-o;M=s.offset.top-a-_-12;H();B("bottom-right","top-right")}if(P=="bottom"){var j=s.offset.left+o-(s.offset.left+s.dimension.width);A=s.offset.left-j/2+D;M=s.offset.top+s.dimension.height+_+12;H();B("top","bottom")}if(P=="bottom-left"){A=s.offset.left+D;M=s.offset.top+s.dimension.height+_+12;H();B("top-left","bottom-left")}if(P=="bottom-right"){A=s.offset.left+s.dimension.width+D-o;M=s.offset.top+s.dimension.height+_+12;H();B("top-right","bottom-right")}if(P=="left"){A=s.offset.left-D-o-12;O=s.offset.left+D+s.dimension.width+12;var F=s.offset.top+a-(s.offset.top+s.dimension.height);M=s.offset.top-F/2-_;if(A<0&&O+o>i){var I=parseFloat(n.$tooltip.css("border-width"))*2,q=o+A-I;n.$tooltip.css("width",q+"px");a=n.$tooltip.outerHeight(false);A=s.offset.left-D-q-12-I;F=s.offset.top+a-(s.offset.top+s.dimension.height);M=s.offset.top-F/2-_}else if(A<0){A=s.offset.left+D+s.dimension.width+12;r="left"}}if(P=="right"){A=s.offset.left+D+s.dimension.width+12;O=s.offset.left-D-o-12;var F=s.offset.top+a-(s.offset.top+s.dimension.height);M=s.offset.top-F/2-_;if(A+o>i&&O<0){var I=parseFloat(n.$tooltip.css("border-width"))*2,q=i-A-I;n.$tooltip.css("width",q+"px");a=n.$tooltip.outerHeight(false);F=s.offset.top+a-(s.offset.top+s.dimension.height);M=s.offset.top-F/2-_}else if(A+o>i){A=s.offset.left-D-o-12;r="right"}}if(n.options.arrow){var R="tooltipster-arrow-"+P;if(n.options.arrowColor.length<1){var U=n.$tooltip.css("background-color")}else{var U=n.options.arrowColor}if(!r){r=""}else if(r=="left"){R="tooltipster-arrow-right";r=""}else if(r=="right"){R="tooltipster-arrow-left";r=""}else{r="left:"+Math.round(r)+"px;"}if(P=="top"||P=="top-left"||P=="top-right"){var z=parseFloat(n.$tooltip.css("border-bottom-width")),W=n.$tooltip.css("border-bottom-color")}else if(P=="bottom"||P=="bottom-left"||P=="bottom-right"){var z=parseFloat(n.$tooltip.css("border-top-width")),W=n.$tooltip.css("border-top-color")}else if(P=="left"){var z=parseFloat(n.$tooltip.css("border-right-width")),W=n.$tooltip.css("border-right-color")}else if(P=="right"){var z=parseFloat(n.$tooltip.css("border-left-width")),W=n.$tooltip.css("border-left-color")}else{var z=parseFloat(n.$tooltip.css("border-bottom-width")),W=n.$tooltip.css("border-bottom-color")}if(z>1){z++}var X="";if(z!==0){var V="",J="border-color: "+W+";";if(R.indexOf("bottom")!==-1){V="margin-top: -"+Math.round(z)+"px;"}else if(R.indexOf("top")!==-1){V="margin-bottom: -"+Math.round(z)+"px;"}else if(R.indexOf("left")!==-1){V="margin-right: -"+Math.round(z)+"px;"}else if(R.indexOf("right")!==-1){V="margin-left: -"+Math.round(z)+"px;"}X='<span class="tooltipster-arrow-border" style="'+V+" "+J+';"></span>'}n.$tooltip.find(".tooltipster-arrow").remove();var K='<div class="'+R+' tooltipster-arrow" style="'+r+'">'+X+'<span style="border-color:'+U+';"></span></div>';n.$tooltip.append(K)}n.$tooltip.css({top:Math.round(M)+"px",left:Math.round(A)+"px"})}return n},enable:function(){this.enabled=true;return this},disable:function(){this.hide();this.enabled=false;return this},destroy:function(){var t=this;t.hide();if(t.$el[0]!==t.$elProxy[0])t.$elProxy.remove();t.$el.removeData(t.namespace).off("."+t.namespace);var n=t.$el.data("tooltipster-ns");if(n.length===1){var r=typeof t.Content==="string"?t.Content:e("<div></div>").append(t.Content).html();t.$el.removeClass("tooltipstered").attr("title",r).removeData(t.namespace).removeData("tooltipster-ns").off("."+t.namespace)}else{n=e.grep(n,function(e,n){return e!==t.namespace});t.$el.data("tooltipster-ns",n)}return t},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:undefined},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:undefined},option:function(e,t){if(typeof t=="undefined")return this.options[e];else{this.options[e]=t;return this}},status:function(){return this.Status}};e.fn[r]=function(){var t=arguments;if(this.length===0){if(typeof t[0]==="string"){var n=true;switch(t[0]){case"setDefaults":e.extend(i,t[1]);break;default:n=false;break}if(n)return true;else return this}else{return this}}else{if(typeof t[0]==="string"){var r="#*$~&";this.each(function(){var n=e(this).data("tooltipster-ns"),i=n?e(this).data(n[0]):null;if(i){if(typeof i[t[0]]==="function"){var s=i[t[0]](t[1],t[2])}else{throw new Error('Unknown method .tooltipster("'+t[0]+'")')}if(s!==i){r=s;return false}}else{throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element')}});return r!=="#*$~&"?r:this}else{var o=[],u=t[0]&&typeof t[0].multiple!=="undefined",a=u&&t[0].multiple||!u&&i.multiple,f=t[0]&&typeof t[0].debug!=="undefined",l=f&&t[0].debug||!f&&i.debug;this.each(function(){var n=false,r=e(this).data("tooltipster-ns"),i=null;if(!r){n=true}else if(a){n=true}else if(l){console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.')}if(n){i=new s(this,t[0]);if(!r)r=[];r.push(i.namespace);e(this).data("tooltipster-ns",r);e(this).data(i.namespace,i)}o.push(i)});if(a)return o;else return this}}};var u=!!("ontouchstart"in t);var a=false;e("body").one("mousemove",function(){a=true})})(jQuery,window,document);tooltipster();});function enableTooltipster(){jsQueue(()=>{$('.tooltip').tooltipster({animation:'grow',delay:200,contentAsHTML:true,});});}
jsQueue(()=>{!function(e){e.fn.numeric=function(t,n){"boolean"==typeof t&&(t={decimal:t}),void 0===(t=t||{}).negative&&(t.negative=!0);var r=!1===t.decimal?"":t.decimal||".",i=!0===t.negative;n="function"==typeof n?n:function(){};return this.data("numeric.decimal",r).data("numeric.negative",i).data("numeric.callback",n).keypress(e.fn.numeric.keypress).keyup(e.fn.numeric.keyup).blur(e.fn.numeric.blur)},e.fn.numeric.keypress=function(t){var n=e.data(this,"numeric.decimal"),r=e.data(this,"numeric.negative"),i=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(13==i&&"input"==this.nodeName.toLowerCase())return!0;if(13==i)return!1;var a=!1;if(t.ctrlKey&&97==i||t.ctrlKey&&65==i)return!0;if(t.ctrlKey&&120==i||t.ctrlKey&&88==i)return!0;if(t.ctrlKey&&99==i||t.ctrlKey&&67==i)return!0;if(t.ctrlKey&&122==i||t.ctrlKey&&90==i)return!0;if(t.ctrlKey&&118==i||t.ctrlKey&&86==i||t.shiftKey&&45==i)return!0;if(i<48||i>57){if(0!=this.value.indexOf("-")&&r&&45==i&&(0==this.value.length||0==e.fn.getSelectionStart(this)))return!0;n&&i==n.charCodeAt(0)&&-1!=this.value.indexOf(n)&&(a=!1),8!=i&&9!=i&&13!=i&&35!=i&&36!=i&&37!=i&&39!=i&&46!=i?a=!1:void 0!==t.charCode&&(t.keyCode==t.which&&0!=t.which?(a=!0,46==t.which&&(a=!1)):0!=t.keyCode&&0==t.charCode&&0==t.which&&(a=!0)),n&&i==n.charCodeAt(0)&&(a=-1==this.value.indexOf(n))}else a=!0;return a},e.fn.numeric.keyup=function(t){var n=this.value;if(n.length>0){var r=e.fn.getSelectionStart(this),i=e.data(this,"numeric.decimal"),a=e.data(this,"numeric.negative");if(""!=i){var c=n.indexOf(i);0==c&&(this.value="0"+n),1==c&&"-"==n.charAt(0)&&(this.value="-0"+n.substring(1)),n=this.value}for(var u=[0,1,2,3,4,5,6,7,8,9,"-",i],l=n.length,s=l-1;s>=0;s--){var f=n.charAt(s);0!=s&&"-"==f?n=n.substring(0,s)+n.substring(s+1):0!=s||a||"-"!=f||(n=n.substring(1));for(var h=!1,o=0;o<u.length;o++)if(f==u[o]){h=!0;break}h&&" "!=f||(n=n.substring(0,s)+n.substring(s+1))}var d=n.indexOf(i);if(d>0)for(s=l-1;s>d;s--){(f=n.charAt(s))==i&&(n=n.substring(0,s)+n.substring(s+1))}this.value=n,e.fn.setSelection(this,r)}},e.fn.numeric.blur=function(){var t=e.data(this,"numeric.decimal"),n=e.data(this,"numeric.callback"),r=this.value;""!=r&&(new RegExp("^\\d+$|\\d*"+t+"\\d+").exec(r)||n.apply(this))},e.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",e.fn.numeric.keypress).unbind("blur",e.fn.numeric.blur)},e.fn.getSelectionStart=function(e){if(e.createTextRange){var t=document.selection.createRange().duplicate();return t.moveEnd("character",e.value.length),""==t.text?e.value.length:e.value.lastIndexOf(t.text)}return e.selectionStart},e.fn.setSelection=function(e,t){if("number"==typeof t&&(t=[t,t]),t&&t.constructor==Array&&2==t.length)if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveStart("character",t[0]),n.moveEnd("character",t[1]),n.select()}else e.setSelectionRange&&(e.focus(),e.setSelectionRange(t[0],t[1]))}}(jQuery);$(".numeric").numeric();$(".integer").numeric({decimal:false,negative:true});});jsQueue(()=>{document.dispatchEvent(deferredLoadedEvent);});